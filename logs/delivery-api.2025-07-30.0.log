2025-07-30 08:47:11.600 [restartedMain] INFO  [] c.d.delivery.DeliveryApiApplication - Starting DeliveryApiApplication using Java 21.0.7 with PID 13740 (C:\FAT_Java_2025\workspace - local\delivery-api\target\classes started by rebre in C:\FAT_Java_2025\workspace - local\delivery-api)
2025-07-30 08:47:11.608 [restartedMain] INFO  [] c.d.delivery.DeliveryApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-30 08:47:11.696 [restartedMain] INFO  [] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-30 08:47:11.697 [restartedMain] INFO  [] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-30 08:47:14.496 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-30 08:47:14.499 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-30 08:47:14.603 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 91 ms. Found 7 JPA repository interfaces.
2025-07-30 08:47:14.944 [restartedMain] INFO  [] o.s.cloud.context.scope.GenericScope - BeanFactory id=071b8050-7555-34c2-8aab-ec114a906539
2025-07-30 08:47:15.810 [restartedMain] INFO  [] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-30 08:47:15.829 [restartedMain] INFO  [] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-30 08:47:15.831 [restartedMain] INFO  [] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-30 08:47:15.831 [restartedMain] INFO  [] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-30 08:47:15.933 [restartedMain] INFO  [] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-30 08:47:15.933 [restartedMain] INFO  [] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4235 ms
2025-07-30 08:47:16.999 [restartedMain] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-30 08:47:17.048 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-30 08:47:17.314 [restartedMain] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:deliverydb user=SA
2025-07-30 08:47:17.316 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-30 08:47:17.357 [restartedMain] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-30 08:47:18.800 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists cliente cascade 
2025-07-30 08:47:18.805 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists itens_pedido cascade 
2025-07-30 08:47:18.806 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists pedidos cascade 
2025-07-30 08:47:18.806 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists produto cascade 
2025-07-30 08:47:18.806 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists project cascade 
2025-07-30 08:47:18.806 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists restaurante cascade 
2025-07-30 08:47:18.807 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists usuario cascade 
2025-07-30 08:47:18.814 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table cliente (
        ativo boolean not null,
        data_cadastro timestamp(6),
        id bigint generated by default as identity,
        usuario_id bigint not null unique,
        cpf varchar(255),
        email varchar(255),
        endereco varchar(255),
        nome varchar(255),
        telefone varchar(255),
        primary key (id)
    )
2025-07-30 08:47:18.827 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table itens_pedido (
        preco_unitario numeric(38,2),
        quantidade integer not null,
        subtotal numeric(38,2),
        id bigint generated by default as identity,
        pedido_id bigint,
        produto_id bigint,
        primary key (id)
    )
2025-07-30 08:47:18.829 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table pedidos (
        data_pedido date,
        subtotal numeric(38,2),
        taxa_entrega numeric(10,2),
        valor_total numeric(38,2),
        cliente_id bigint,
        id bigint generated by default as identity,
        restaurante_id bigint,
        cep_entrega varchar(255) not null,
        endereco_entrega varchar(255) not null,
        numero_pedido varchar(255),
        observacoes varchar(255),
        forma_pagamento enum ('CARTAO_CREDITO','CARTAO_DEBITO','DINHEIRO','PIX','VALE_REFEICAO') not null,
        status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','PRONTO','SAIU_PARA_ENTREGA'),
        primary key (id)
    )
2025-07-30 08:47:18.831 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table produto (
        disponivel boolean not null,
        estoque integer not null,
        preco numeric(38,2),
        id bigint generated by default as identity,
        restaurante_id bigint not null,
        categoria varchar(255),
        descricao varchar(255),
        nome varchar(255),
        primary key (id)
    )
2025-07-30 08:47:18.833 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table project (
        id bigint generated by default as identity,
        observations varchar(255),
        project_title varchar(255),
        repository_url varchar(255),
        student_name varchar(255),
        primary key (id)
    )
2025-07-30 08:47:18.834 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table restaurante (
        ativo boolean not null,
        avaliacao numeric(3,2),
        taxa_entrega numeric(10,2) not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        nome varchar(100) not null,
        categoria varchar(255) not null,
        endereco varchar(255) not null,
        telefone varchar(255) not null,
        primary key (id)
    )
2025-07-30 08:47:18.837 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table usuario (
        ativo boolean not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        restaurante_id bigint,
        email varchar(255) not null unique,
        nome varchar(255) not null,
        senha varchar(255) not null,
        role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null,
        primary key (id)
    )
2025-07-30 08:47:18.839 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists cliente 
       add constraint FKc3u631ocxdrtm3ccpme0kjlmu 
       foreign key (usuario_id) 
       references usuario
2025-07-30 08:47:18.854 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists itens_pedido 
       add constraint FK42mycompce3b7yt3l6ukdwsxy 
       foreign key (pedido_id) 
       references pedidos
2025-07-30 08:47:18.857 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists itens_pedido 
       add constraint FK3uo2duj20r2i4mwplv4vb26u6 
       foreign key (produto_id) 
       references produto
2025-07-30 08:47:18.858 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists pedidos 
       add constraint FK6wgk5emlhdcthucnnmi4dpl33 
       foreign key (cliente_id) 
       references cliente
2025-07-30 08:47:18.862 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists pedidos 
       add constraint FK5ti4tnra3ey4hpd7ko661ndg0 
       foreign key (restaurante_id) 
       references restaurante
2025-07-30 08:47:18.866 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists produto 
       add constraint FKb9jhjyghjcn25guim7q4pt8qx 
       foreign key (restaurante_id) 
       references restaurante
2025-07-30 08:47:18.872 [restartedMain] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-30 08:47:19.441 [restartedMain] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-30 08:47:20.671 [restartedMain] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioService]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-07-30 08:47:20.671 [restartedMain] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-07-30 08:47:21.279 [restartedMain] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 17 endpoints beneath base path '/actuator'
2025-07-30 08:47:21.383 [restartedMain] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-07-30 08:47:21.875 [restartedMain] INFO  [] o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:deliverydb'
2025-07-30 08:47:21.994 [restartedMain] INFO  [] o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-30 08:47:22.125 [restartedMain] INFO  [] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-30 08:47:22.155 [restartedMain] INFO  [] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-30 08:47:22.176 [restartedMain] INFO  [] c.d.delivery.DeliveryApiApplication - Started DeliveryApiApplication in 11.24 seconds (process running for 12.423)
2025-07-30 08:47:22.303 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.cep_entrega,
        p1_0.cliente_id,
        p1_0.data_pedido,
        p1_0.endereco_entrega,
        p1_0.forma_pagamento,
        p1_0.numero_pedido,
        p1_0.observacoes,
        p1_0.restaurante_id,
        p1_0.status,
        p1_0.subtotal,
        p1_0.taxa_entrega,
        p1_0.valor_total 
    from
        pedidos p1_0
2025-07-30 08:47:22.333 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.categoria,
        p1_0.descricao,
        p1_0.disponivel,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco,
        p1_0.restaurante_id 
    from
        produto p1_0
2025-07-30 08:47:22.336 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.data_criacao,
        r1_0.endereco,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone 
    from
        restaurante r1_0
2025-07-30 08:47:22.339 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0
2025-07-30 08:47:22.343 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.cpf,
        c1_0.data_cadastro,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone,
        c1_0.usuario_id 
    from
        cliente c1_0
2025-07-30 08:47:22.408 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-07-30 08:47:22.544 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Usuario */insert 
    into
        usuario (ativo, data_criacao, email, nome, restaurante_id, role, senha, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-07-30 08:47:22.582 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-07-30 08:47:22.692 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Usuario */insert 
    into
        usuario (ativo, data_criacao, email, nome, restaurante_id, role, senha, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-07-30 08:47:22.696 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-07-30 08:47:22.802 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Usuario */insert 
    into
        usuario (ativo, data_criacao, email, nome, restaurante_id, role, senha, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-07-30 08:47:22.804 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-07-30 08:47:22.904 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Usuario */insert 
    into
        usuario (ativo, data_criacao, email, nome, restaurante_id, role, senha, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-07-30 08:47:22.912 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Cliente */insert 
    into
        cliente (ativo, cpf, data_cadastro, email, endereco, nome, telefone, usuario_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-30 08:47:22.914 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Cliente */insert 
    into
        cliente (ativo, cpf, data_cadastro, email, endereco, nome, telefone, usuario_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-30 08:47:22.916 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Cliente */insert 
    into
        cliente (ativo, cpf, data_cadastro, email, endereco, nome, telefone, usuario_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-30 08:47:22.935 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Restaurante */insert 
    into
        restaurante (ativo, avaliacao, categoria, data_criacao, endereco, nome, taxa_entrega, telefone, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-30 08:47:22.937 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Restaurante */insert 
    into
        restaurante (ativo, avaliacao, categoria, data_criacao, endereco, nome, taxa_entrega, telefone, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-30 08:47:22.943 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.data_criacao,
        r1_0.endereco,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone 
    from
        restaurante r1_0
2025-07-30 08:47:22.956 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Produto */insert 
    into
        produto (categoria, descricao, disponivel, estoque, nome, preco, restaurante_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-07-30 08:47:22.958 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Produto */insert 
    into
        produto (categoria, descricao, disponivel, estoque, nome, preco, restaurante_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-07-30 08:47:22.959 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Produto */insert 
    into
        produto (categoria, descricao, disponivel, estoque, nome, preco, restaurante_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-07-30 08:47:22.960 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Produto */insert 
    into
        produto (categoria, descricao, disponivel, estoque, nome, preco, restaurante_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-07-30 08:47:22.961 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Produto */insert 
    into
        produto (categoria, descricao, disponivel, estoque, nome, preco, restaurante_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-07-30 08:47:22.965 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.cpf,
        c1_0.data_cadastro,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone,
        c1_0.usuario_id 
    from
        cliente c1_0
2025-07-30 08:47:22.971 [restartedMain] DEBUG [] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.id=?
2025-07-30 08:47:22.973 [restartedMain] DEBUG [] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.id=?
2025-07-30 08:47:22.974 [restartedMain] DEBUG [] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.id=?
2025-07-30 08:47:22.977 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.data_criacao,
        r1_0.endereco,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone 
    from
        restaurante r1_0
2025-07-30 08:47:22.981 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.categoria,
        p1_0.descricao,
        p1_0.disponivel,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco,
        p1_0.restaurante_id 
    from
        produto p1_0
2025-07-30 08:47:22.982 [restartedMain] DEBUG [] org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.data_criacao,
        r1_0.endereco,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone 
    from
        restaurante r1_0 
    where
        r1_0.id=?
2025-07-30 08:47:22.983 [restartedMain] DEBUG [] org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.data_criacao,
        r1_0.endereco,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone 
    from
        restaurante r1_0 
    where
        r1_0.id=?
2025-07-30 08:47:22.987 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Pedido */insert 
    into
        pedidos (cep_entrega, cliente_id, data_pedido, endereco_entrega, forma_pagamento, numero_pedido, observacoes, restaurante_id, status, subtotal, taxa_entrega, valor_total, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-30 08:47:22.991 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.ItemPedido */insert 
    into
        itens_pedido (pedido_id, preco_unitario, produto_id, quantidade, subtotal, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-07-30 08:47:22.993 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Pedido */insert 
    into
        pedidos (cep_entrega, cliente_id, data_pedido, endereco_entrega, forma_pagamento, numero_pedido, observacoes, restaurante_id, status, subtotal, taxa_entrega, valor_total, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-30 08:47:22.994 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.ItemPedido */insert 
    into
        itens_pedido (pedido_id, preco_unitario, produto_id, quantidade, subtotal, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-07-30 08:47:22.996 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.ItemPedido */insert 
    into
        itens_pedido (pedido_id, preco_unitario, produto_id, quantidade, subtotal, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-07-30 08:47:23.007 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.cpf,
        c1_0.data_cadastro,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone,
        c1_0.usuario_id 
    from
        cliente c1_0 
    where
        c1_0.email=?
2025-07-30 08:47:23.008 [restartedMain] DEBUG [] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.id=?
2025-07-30 08:47:23.013 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.cpf,
        c1_0.data_cadastro,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone,
        c1_0.usuario_id 
    from
        cliente c1_0 
    where
        c1_0.ativo
2025-07-30 08:47:23.014 [restartedMain] DEBUG [] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.id=?
2025-07-30 08:47:23.015 [restartedMain] DEBUG [] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.id=?
2025-07-30 08:47:23.026 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.cpf,
        c1_0.data_cadastro,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone,
        c1_0.usuario_id 
    from
        cliente c1_0 
    where
        upper(c1_0.nome) like upper(?) escape '\'
2025-07-30 08:47:23.030 [restartedMain] DEBUG [] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.id=?
2025-07-30 08:47:23.037 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id 
    from
        cliente c1_0 
    where
        c1_0.email=? 
    fetch
        first ? rows only
2025-07-30 08:47:23.608 [RMI TCP Connection(4)-127.0.0.1] INFO  [] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-30 08:47:23.608 [RMI TCP Connection(4)-127.0.0.1] INFO  [] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-30 08:47:23.609 [RMI TCP Connection(4)-127.0.0.1] INFO  [] o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-07-30 08:47:28.706 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/index.html
2025-07-30 08:47:28.732 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/index.html
2025-07-30 08:47:28.784 [http-nio-8080-exec-1] DEBUG [c7ce79b5ce604eae] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-30 08:47:28.804 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui-bundle.js
2025-07-30 08:47:28.805 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/index.css
2025-07-30 08:47:28.806 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/index.css
2025-07-30 08:47:28.806 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui.css
2025-07-30 08:47:28.807 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui-bundle.js
2025-07-30 08:47:28.831 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui.css
2025-07-30 08:47:28.845 [http-nio-8080-exec-2] DEBUG [8049f6523edf4f2d] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-30 08:47:28.856 [http-nio-8080-exec-3] DEBUG [be6663eaaf90419d] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-30 08:47:28.881 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-initializer.js
2025-07-30 08:47:28.883 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui-standalone-preset.js
2025-07-30 08:47:28.883 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-initializer.js
2025-07-30 08:47:28.909 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui-standalone-preset.js
2025-07-30 08:47:28.924 [http-nio-8080-exec-5] DEBUG [67319d281cad4178] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-30 08:47:28.967 [http-nio-8080-exec-4] DEBUG [7b594ae6a6f04c19] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-30 08:47:28.997 [http-nio-8080-exec-7] DEBUG [de7b467e54bc42ed] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-30 08:47:29.252 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /v3/api-docs/swagger-config
2025-07-30 08:47:29.254 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /v3/api-docs/swagger-config
2025-07-30 08:47:29.281 [http-nio-8080-exec-6] DEBUG [969dbedf66f64c20] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-30 08:47:29.310 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /v3/api-docs
2025-07-30 08:47:29.312 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /v3/api-docs
2025-07-30 08:47:30.259 [http-nio-8080-exec-8] INFO  [0052f2576f8548ff] o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 928 ms
2025-07-30 08:47:30.306 [http-nio-8080-exec-8] DEBUG [0052f2576f8548ff] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-30 08:47:55.292 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-07-30 08:47:55.294 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-07-30 08:47:55.349 [http-nio-8080-exec-9] DEBUG [7faded87e734481c] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-07-30 08:47:55.549 [http-nio-8080-exec-9] DEBUG [7faded87e734481c] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-30 08:50:37.476 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /actuator/info
2025-07-30 08:50:37.481 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /actuator/info
2025-07-30 08:50:37.498 [http-nio-8080-exec-3] DEBUG [75a3825420574e6f] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-30 08:50:37.583 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-07-30 08:50:37.585 [http-nio-8080-exec-5] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-30 08:50:37.592 [http-nio-8080-exec-5] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-07-30 08:50:37.608 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /error
2025-07-30 08:50:37.610 [http-nio-8080-exec-5] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-30 08:50:37.612 [http-nio-8080-exec-5] DEBUG [] o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/error?continue to session
2025-07-30 08:50:37.612 [http-nio-8080-exec-5] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-07-30 08:52:00.004 [RMI TCP Connection(10)-127.0.0.1] INFO  [] o.s.b.a.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin - Application shutdown requested.
2025-07-30 08:52:00.009 [RMI TCP Connection(10)-127.0.0.1] INFO  [] o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-30 08:52:00.033 [RMI TCP Connection(10)-127.0.0.1] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-30 08:52:00.035 [RMI TCP Connection(10)-127.0.0.1] DEBUG [] org.hibernate.SQL - 
    drop table if exists cliente cascade 
2025-07-30 08:52:00.038 [RMI TCP Connection(10)-127.0.0.1] DEBUG [] org.hibernate.SQL - 
    drop table if exists itens_pedido cascade 
2025-07-30 08:52:00.038 [RMI TCP Connection(10)-127.0.0.1] DEBUG [] org.hibernate.SQL - 
    drop table if exists pedidos cascade 
2025-07-30 08:52:00.039 [RMI TCP Connection(10)-127.0.0.1] DEBUG [] org.hibernate.SQL - 
    drop table if exists produto cascade 
2025-07-30 08:52:00.039 [RMI TCP Connection(10)-127.0.0.1] DEBUG [] org.hibernate.SQL - 
    drop table if exists project cascade 
2025-07-30 08:52:00.039 [RMI TCP Connection(10)-127.0.0.1] DEBUG [] org.hibernate.SQL - 
    drop table if exists restaurante cascade 
2025-07-30 08:52:00.039 [RMI TCP Connection(10)-127.0.0.1] DEBUG [] org.hibernate.SQL - 
    drop table if exists usuario cascade 
2025-07-30 08:52:00.045 [RMI TCP Connection(10)-127.0.0.1] WARN  [] o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-224]
2025-07-30 08:52:00.046 [RMI TCP Connection(10)-127.0.0.1] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-30 08:52:00.048 [RMI TCP Connection(10)-127.0.0.1] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-30 08:52:37.053 [restartedMain] INFO  [] c.d.delivery.DeliveryApiApplication - Starting DeliveryApiApplication using Java 21.0.7 with PID 8820 (C:\FAT_Java_2025\workspace - local\delivery-api\target\classes started by rebre in C:\FAT_Java_2025\workspace - local\delivery-api)
2025-07-30 08:52:37.055 [restartedMain] INFO  [] c.d.delivery.DeliveryApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-30 08:52:37.116 [restartedMain] INFO  [] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-30 08:52:37.116 [restartedMain] INFO  [] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-30 08:52:38.935 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-30 08:52:38.937 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-30 08:52:39.056 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 107 ms. Found 7 JPA repository interfaces.
2025-07-30 08:52:39.350 [restartedMain] INFO  [] o.s.cloud.context.scope.GenericScope - BeanFactory id=5ad59847-150e-3d95-9319-9622d6ce9628
2025-07-30 08:52:40.150 [restartedMain] INFO  [] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-30 08:52:40.169 [restartedMain] INFO  [] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-30 08:52:40.173 [restartedMain] INFO  [] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-30 08:52:40.173 [restartedMain] INFO  [] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-30 08:52:40.253 [restartedMain] INFO  [] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-30 08:52:40.254 [restartedMain] INFO  [] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3137 ms
2025-07-30 08:52:41.085 [restartedMain] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-30 08:52:41.126 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-30 08:52:41.329 [restartedMain] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:deliverydb user=SA
2025-07-30 08:52:41.331 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-30 08:52:41.366 [restartedMain] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-30 08:52:42.644 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists cliente cascade 
2025-07-30 08:52:42.651 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists itens_pedido cascade 
2025-07-30 08:52:42.651 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists pedidos cascade 
2025-07-30 08:52:42.652 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists produto cascade 
2025-07-30 08:52:42.652 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists project cascade 
2025-07-30 08:52:42.652 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists restaurante cascade 
2025-07-30 08:52:42.653 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists usuario cascade 
2025-07-30 08:52:42.660 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table cliente (
        ativo boolean not null,
        data_cadastro timestamp(6),
        id bigint generated by default as identity,
        usuario_id bigint not null unique,
        cpf varchar(255),
        email varchar(255),
        endereco varchar(255),
        nome varchar(255),
        telefone varchar(255),
        primary key (id)
    )
2025-07-30 08:52:42.673 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table itens_pedido (
        preco_unitario numeric(38,2),
        quantidade integer not null,
        subtotal numeric(38,2),
        id bigint generated by default as identity,
        pedido_id bigint,
        produto_id bigint,
        primary key (id)
    )
2025-07-30 08:52:42.676 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table pedidos (
        data_pedido date,
        subtotal numeric(38,2),
        taxa_entrega numeric(10,2),
        valor_total numeric(38,2),
        cliente_id bigint,
        id bigint generated by default as identity,
        restaurante_id bigint,
        cep_entrega varchar(255) not null,
        endereco_entrega varchar(255) not null,
        numero_pedido varchar(255),
        observacoes varchar(255),
        forma_pagamento enum ('CARTAO_CREDITO','CARTAO_DEBITO','DINHEIRO','PIX','VALE_REFEICAO') not null,
        status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','PRONTO','SAIU_PARA_ENTREGA'),
        primary key (id)
    )
2025-07-30 08:52:42.679 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table produto (
        disponivel boolean not null,
        estoque integer not null,
        preco numeric(38,2),
        id bigint generated by default as identity,
        restaurante_id bigint not null,
        categoria varchar(255),
        descricao varchar(255),
        nome varchar(255),
        primary key (id)
    )
2025-07-30 08:52:42.681 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table project (
        id bigint generated by default as identity,
        observations varchar(255),
        project_title varchar(255),
        repository_url varchar(255),
        student_name varchar(255),
        primary key (id)
    )
2025-07-30 08:52:42.683 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table restaurante (
        ativo boolean not null,
        avaliacao numeric(3,2),
        taxa_entrega numeric(10,2) not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        nome varchar(100) not null,
        categoria varchar(255) not null,
        endereco varchar(255) not null,
        telefone varchar(255) not null,
        primary key (id)
    )
2025-07-30 08:52:42.685 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table usuario (
        ativo boolean not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        restaurante_id bigint,
        email varchar(255) not null unique,
        nome varchar(255) not null,
        senha varchar(255) not null,
        role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null,
        primary key (id)
    )
2025-07-30 08:52:42.688 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists cliente 
       add constraint FKc3u631ocxdrtm3ccpme0kjlmu 
       foreign key (usuario_id) 
       references usuario
2025-07-30 08:52:42.703 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists itens_pedido 
       add constraint FK42mycompce3b7yt3l6ukdwsxy 
       foreign key (pedido_id) 
       references pedidos
2025-07-30 08:52:42.706 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists itens_pedido 
       add constraint FK3uo2duj20r2i4mwplv4vb26u6 
       foreign key (produto_id) 
       references produto
2025-07-30 08:52:42.707 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists pedidos 
       add constraint FK6wgk5emlhdcthucnnmi4dpl33 
       foreign key (cliente_id) 
       references cliente
2025-07-30 08:52:42.709 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists pedidos 
       add constraint FK5ti4tnra3ey4hpd7ko661ndg0 
       foreign key (restaurante_id) 
       references restaurante
2025-07-30 08:52:42.712 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists produto 
       add constraint FKb9jhjyghjcn25guim7q4pt8qx 
       foreign key (restaurante_id) 
       references restaurante
2025-07-30 08:52:42.719 [restartedMain] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-30 08:52:43.195 [restartedMain] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-30 08:52:44.358 [restartedMain] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioService]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-07-30 08:52:44.359 [restartedMain] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-07-30 08:52:44.923 [restartedMain] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-07-30 08:52:45.016 [restartedMain] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-07-30 08:52:45.479 [restartedMain] INFO  [] o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:deliverydb'
2025-07-30 08:52:45.604 [restartedMain] INFO  [] o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-30 08:52:45.725 [restartedMain] INFO  [] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-30 08:52:45.747 [restartedMain] INFO  [] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-30 08:52:45.768 [restartedMain] INFO  [] c.d.delivery.DeliveryApiApplication - Started DeliveryApiApplication in 9.335 seconds (process running for 10.299)
2025-07-30 08:52:45.863 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.cep_entrega,
        p1_0.cliente_id,
        p1_0.data_pedido,
        p1_0.endereco_entrega,
        p1_0.forma_pagamento,
        p1_0.numero_pedido,
        p1_0.observacoes,
        p1_0.restaurante_id,
        p1_0.status,
        p1_0.subtotal,
        p1_0.taxa_entrega,
        p1_0.valor_total 
    from
        pedidos p1_0
2025-07-30 08:52:45.889 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.categoria,
        p1_0.descricao,
        p1_0.disponivel,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco,
        p1_0.restaurante_id 
    from
        produto p1_0
2025-07-30 08:52:45.892 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.data_criacao,
        r1_0.endereco,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone 
    from
        restaurante r1_0
2025-07-30 08:52:45.896 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0
2025-07-30 08:52:45.899 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.cpf,
        c1_0.data_cadastro,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone,
        c1_0.usuario_id 
    from
        cliente c1_0
2025-07-30 08:52:45.952 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-07-30 08:52:46.078 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Usuario */insert 
    into
        usuario (ativo, data_criacao, email, nome, restaurante_id, role, senha, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-07-30 08:52:46.107 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-07-30 08:52:46.212 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Usuario */insert 
    into
        usuario (ativo, data_criacao, email, nome, restaurante_id, role, senha, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-07-30 08:52:46.217 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-07-30 08:52:46.316 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Usuario */insert 
    into
        usuario (ativo, data_criacao, email, nome, restaurante_id, role, senha, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-07-30 08:52:46.321 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-07-30 08:52:46.416 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Usuario */insert 
    into
        usuario (ativo, data_criacao, email, nome, restaurante_id, role, senha, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-07-30 08:52:46.422 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Cliente */insert 
    into
        cliente (ativo, cpf, data_cadastro, email, endereco, nome, telefone, usuario_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-30 08:52:46.425 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Cliente */insert 
    into
        cliente (ativo, cpf, data_cadastro, email, endereco, nome, telefone, usuario_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-30 08:52:46.426 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Cliente */insert 
    into
        cliente (ativo, cpf, data_cadastro, email, endereco, nome, telefone, usuario_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-30 08:52:46.442 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Restaurante */insert 
    into
        restaurante (ativo, avaliacao, categoria, data_criacao, endereco, nome, taxa_entrega, telefone, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-30 08:52:46.444 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Restaurante */insert 
    into
        restaurante (ativo, avaliacao, categoria, data_criacao, endereco, nome, taxa_entrega, telefone, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-30 08:52:46.448 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.data_criacao,
        r1_0.endereco,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone 
    from
        restaurante r1_0
2025-07-30 08:52:46.461 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Produto */insert 
    into
        produto (categoria, descricao, disponivel, estoque, nome, preco, restaurante_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-07-30 08:52:46.463 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Produto */insert 
    into
        produto (categoria, descricao, disponivel, estoque, nome, preco, restaurante_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-07-30 08:52:46.465 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Produto */insert 
    into
        produto (categoria, descricao, disponivel, estoque, nome, preco, restaurante_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-07-30 08:52:46.465 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Produto */insert 
    into
        produto (categoria, descricao, disponivel, estoque, nome, preco, restaurante_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-07-30 08:52:46.466 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Produto */insert 
    into
        produto (categoria, descricao, disponivel, estoque, nome, preco, restaurante_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-07-30 08:52:46.469 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.cpf,
        c1_0.data_cadastro,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone,
        c1_0.usuario_id 
    from
        cliente c1_0
2025-07-30 08:52:46.474 [restartedMain] DEBUG [] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.id=?
2025-07-30 08:52:46.477 [restartedMain] DEBUG [] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.id=?
2025-07-30 08:52:46.480 [restartedMain] DEBUG [] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.id=?
2025-07-30 08:52:46.485 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.data_criacao,
        r1_0.endereco,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone 
    from
        restaurante r1_0
2025-07-30 08:52:46.489 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.categoria,
        p1_0.descricao,
        p1_0.disponivel,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco,
        p1_0.restaurante_id 
    from
        produto p1_0
2025-07-30 08:52:46.490 [restartedMain] DEBUG [] org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.data_criacao,
        r1_0.endereco,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone 
    from
        restaurante r1_0 
    where
        r1_0.id=?
2025-07-30 08:52:46.491 [restartedMain] DEBUG [] org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.data_criacao,
        r1_0.endereco,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone 
    from
        restaurante r1_0 
    where
        r1_0.id=?
2025-07-30 08:52:46.496 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Pedido */insert 
    into
        pedidos (cep_entrega, cliente_id, data_pedido, endereco_entrega, forma_pagamento, numero_pedido, observacoes, restaurante_id, status, subtotal, taxa_entrega, valor_total, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-30 08:52:46.500 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.ItemPedido */insert 
    into
        itens_pedido (pedido_id, preco_unitario, produto_id, quantidade, subtotal, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-07-30 08:52:46.502 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Pedido */insert 
    into
        pedidos (cep_entrega, cliente_id, data_pedido, endereco_entrega, forma_pagamento, numero_pedido, observacoes, restaurante_id, status, subtotal, taxa_entrega, valor_total, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-30 08:52:46.503 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.ItemPedido */insert 
    into
        itens_pedido (pedido_id, preco_unitario, produto_id, quantidade, subtotal, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-07-30 08:52:46.504 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.ItemPedido */insert 
    into
        itens_pedido (pedido_id, preco_unitario, produto_id, quantidade, subtotal, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-07-30 08:52:46.517 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.cpf,
        c1_0.data_cadastro,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone,
        c1_0.usuario_id 
    from
        cliente c1_0 
    where
        c1_0.email=?
2025-07-30 08:52:46.519 [restartedMain] DEBUG [] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.id=?
2025-07-30 08:52:46.525 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.cpf,
        c1_0.data_cadastro,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone,
        c1_0.usuario_id 
    from
        cliente c1_0 
    where
        c1_0.ativo
2025-07-30 08:52:46.526 [restartedMain] DEBUG [] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.id=?
2025-07-30 08:52:46.527 [restartedMain] DEBUG [] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.id=?
2025-07-30 08:52:46.537 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.cpf,
        c1_0.data_cadastro,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone,
        c1_0.usuario_id 
    from
        cliente c1_0 
    where
        upper(c1_0.nome) like upper(?) escape '\'
2025-07-30 08:52:46.540 [restartedMain] DEBUG [] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.id=?
2025-07-30 08:52:46.546 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id 
    from
        cliente c1_0 
    where
        c1_0.email=? 
    fetch
        first ? rows only
2025-07-30 08:52:47.089 [RMI TCP Connection(4)-127.0.0.1] INFO  [] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-30 08:52:47.090 [RMI TCP Connection(4)-127.0.0.1] INFO  [] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-30 08:52:47.091 [RMI TCP Connection(4)-127.0.0.1] INFO  [] o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-07-30 08:52:49.914 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /actuator/info
2025-07-30 08:52:49.943 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /actuator/info
2025-07-30 08:52:50.003 [http-nio-8080-exec-1] DEBUG [3972f58520374501] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-30 08:52:50.089 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-07-30 08:52:50.095 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-30 08:52:50.102 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-07-30 08:52:50.116 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /error
2025-07-30 08:52:50.119 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-30 08:52:50.129 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/error?continue to session
2025-07-30 08:52:50.130 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-07-30 08:53:00.943 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /actuator/info
2025-07-30 08:53:00.946 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /actuator/info
2025-07-30 08:53:00.948 [http-nio-8080-exec-3] DEBUG [5418279a083e4a72] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-30 08:53:01.000 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-07-30 08:53:01.002 [http-nio-8080-exec-4] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-30 08:53:01.002 [http-nio-8080-exec-4] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-07-30 08:53:01.005 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /error
2025-07-30 08:53:01.007 [http-nio-8080-exec-4] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-30 08:53:01.010 [http-nio-8080-exec-4] DEBUG [] o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/error?continue to session
2025-07-30 08:53:01.010 [http-nio-8080-exec-4] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-07-30 08:53:14.198 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-07-30 08:53:14.200 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-07-30 08:53:14.306 [http-nio-8080-exec-5] DEBUG [7afce157ee43401a] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-07-30 08:53:14.511 [http-nio-8080-exec-5] DEBUG [7afce157ee43401a] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-30 08:53:31.259 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /actuator/info
2025-07-30 08:53:31.261 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /actuator/info
2025-07-30 08:53:31.264 [http-nio-8080-exec-6] DEBUG [2c26cc17995a4292] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-30 08:53:31.307 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-07-30 08:53:31.308 [http-nio-8080-exec-7] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-30 08:53:31.309 [http-nio-8080-exec-7] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-07-30 08:53:31.313 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /error
2025-07-30 08:53:31.314 [http-nio-8080-exec-7] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-30 08:53:31.316 [http-nio-8080-exec-7] DEBUG [] o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/error?continue to session
2025-07-30 08:53:31.316 [http-nio-8080-exec-7] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-07-30 08:53:38.796 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /actuator/info
2025-07-30 08:53:38.798 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /actuator/info
2025-07-30 08:53:38.801 [http-nio-8080-exec-8] DEBUG [939ba02a571249c2] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-30 08:53:38.847 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-07-30 08:53:38.848 [http-nio-8080-exec-9] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-30 08:53:38.849 [http-nio-8080-exec-9] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-07-30 08:53:38.851 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /error
2025-07-30 08:53:38.853 [http-nio-8080-exec-9] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-30 08:53:38.854 [http-nio-8080-exec-9] DEBUG [] o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/error?continue to session
2025-07-30 08:53:38.854 [http-nio-8080-exec-9] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-07-30 08:54:41.918 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /actuator/env
2025-07-30 08:54:41.919 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /actuator/env
2025-07-30 08:54:41.928 [http-nio-8080-exec-2] ERROR [c9338073515d48fd] c.d.d.e.GlobalExceptionHandler - Erro inesperado no sistema: 
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource actuator/env.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:586)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at com.deliverytech.delivery.filter.CorrelationIdFilter.doFilter(CorrelationIdFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-07-30 08:54:41.942 [http-nio-8080-exec-2] WARN  [c9338073515d48fd] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource actuator/env.]
2025-07-30 08:54:41.942 [http-nio-8080-exec-2] DEBUG [c9338073515d48fd] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-30 08:54:41.996 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-07-30 08:54:41.997 [http-nio-8080-exec-3] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-30 08:54:42.001 [http-nio-8080-exec-3] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-07-30 08:54:42.005 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /error
2025-07-30 08:54:42.006 [http-nio-8080-exec-3] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-30 08:54:42.007 [http-nio-8080-exec-3] DEBUG [] o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/error?continue to session
2025-07-30 08:54:42.007 [http-nio-8080-exec-3] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-07-30 08:55:54.899 [RMI TCP Connection(8)-127.0.0.1] INFO  [] o.s.b.a.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin - Application shutdown requested.
2025-07-30 08:55:54.902 [RMI TCP Connection(8)-127.0.0.1] INFO  [] o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-30 08:55:54.923 [RMI TCP Connection(8)-127.0.0.1] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-30 08:55:54.924 [RMI TCP Connection(8)-127.0.0.1] DEBUG [] org.hibernate.SQL - 
    drop table if exists cliente cascade 
2025-07-30 08:55:54.927 [RMI TCP Connection(8)-127.0.0.1] DEBUG [] org.hibernate.SQL - 
    drop table if exists itens_pedido cascade 
2025-07-30 08:55:54.927 [RMI TCP Connection(8)-127.0.0.1] DEBUG [] org.hibernate.SQL - 
    drop table if exists pedidos cascade 
2025-07-30 08:55:54.928 [RMI TCP Connection(8)-127.0.0.1] DEBUG [] org.hibernate.SQL - 
    drop table if exists produto cascade 
2025-07-30 08:55:54.929 [RMI TCP Connection(8)-127.0.0.1] DEBUG [] org.hibernate.SQL - 
    drop table if exists project cascade 
2025-07-30 08:55:54.929 [RMI TCP Connection(8)-127.0.0.1] DEBUG [] org.hibernate.SQL - 
    drop table if exists restaurante cascade 
2025-07-30 08:55:54.929 [RMI TCP Connection(8)-127.0.0.1] DEBUG [] org.hibernate.SQL - 
    drop table if exists usuario cascade 
2025-07-30 08:55:54.935 [RMI TCP Connection(8)-127.0.0.1] WARN  [] o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-224]
2025-07-30 08:55:54.936 [RMI TCP Connection(8)-127.0.0.1] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-30 08:55:54.939 [RMI TCP Connection(8)-127.0.0.1] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-30 09:22:47.440 [restartedMain] INFO  [] c.d.delivery.DeliveryApiApplication - Starting DeliveryApiApplication using Java 21.0.7 with PID 13372 (C:\FAT_Java_2025\workspace - local\delivery-api\target\classes started by rebre in C:\FAT_Java_2025\workspace - local\delivery-api)
2025-07-30 09:22:47.443 [restartedMain] INFO  [] c.d.delivery.DeliveryApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-30 09:22:47.513 [restartedMain] INFO  [] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-30 09:22:47.513 [restartedMain] INFO  [] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-30 09:22:49.404 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-30 09:22:49.406 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-30 09:22:49.511 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 91 ms. Found 7 JPA repository interfaces.
2025-07-30 09:22:49.791 [restartedMain] INFO  [] o.s.cloud.context.scope.GenericScope - BeanFactory id=071b8050-7555-34c2-8aab-ec114a906539
2025-07-30 09:22:50.630 [restartedMain] INFO  [] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-30 09:22:50.649 [restartedMain] INFO  [] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-30 09:22:50.651 [restartedMain] INFO  [] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-30 09:22:50.652 [restartedMain] INFO  [] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-30 09:22:50.760 [restartedMain] INFO  [] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-30 09:22:50.761 [restartedMain] INFO  [] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3247 ms
2025-07-30 09:22:51.944 [restartedMain] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-30 09:22:51.992 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-30 09:22:52.286 [restartedMain] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:deliverydb user=SA
2025-07-30 09:22:52.290 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-30 09:22:52.352 [restartedMain] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-30 09:22:53.971 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists cliente cascade 
2025-07-30 09:22:53.978 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists itens_pedido cascade 
2025-07-30 09:22:53.979 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists pedidos cascade 
2025-07-30 09:22:53.979 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists produto cascade 
2025-07-30 09:22:53.980 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists project cascade 
2025-07-30 09:22:53.980 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists restaurante cascade 
2025-07-30 09:22:53.980 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists usuario cascade 
2025-07-30 09:22:53.990 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table cliente (
        ativo boolean not null,
        data_cadastro timestamp(6),
        id bigint generated by default as identity,
        usuario_id bigint not null unique,
        cpf varchar(255),
        email varchar(255),
        endereco varchar(255),
        nome varchar(255),
        telefone varchar(255),
        primary key (id)
    )
2025-07-30 09:22:54.006 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table itens_pedido (
        preco_unitario numeric(38,2),
        quantidade integer not null,
        subtotal numeric(38,2),
        id bigint generated by default as identity,
        pedido_id bigint,
        produto_id bigint,
        primary key (id)
    )
2025-07-30 09:22:54.010 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table pedidos (
        data_pedido date,
        subtotal numeric(38,2),
        taxa_entrega numeric(10,2),
        valor_total numeric(38,2),
        cliente_id bigint,
        id bigint generated by default as identity,
        restaurante_id bigint,
        cep_entrega varchar(255) not null,
        endereco_entrega varchar(255) not null,
        numero_pedido varchar(255),
        observacoes varchar(255),
        forma_pagamento enum ('CARTAO_CREDITO','CARTAO_DEBITO','DINHEIRO','PIX','VALE_REFEICAO') not null,
        status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','PRONTO','SAIU_PARA_ENTREGA'),
        primary key (id)
    )
2025-07-30 09:22:54.013 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table produto (
        disponivel boolean not null,
        estoque integer not null,
        preco numeric(38,2),
        id bigint generated by default as identity,
        restaurante_id bigint not null,
        categoria varchar(255),
        descricao varchar(255),
        nome varchar(255),
        primary key (id)
    )
2025-07-30 09:22:54.016 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table project (
        id bigint generated by default as identity,
        observations varchar(255),
        project_title varchar(255),
        repository_url varchar(255),
        student_name varchar(255),
        primary key (id)
    )
2025-07-30 09:22:54.017 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table restaurante (
        ativo boolean not null,
        avaliacao numeric(3,2),
        taxa_entrega numeric(10,2) not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        nome varchar(100) not null,
        categoria varchar(255) not null,
        endereco varchar(255) not null,
        telefone varchar(255) not null,
        primary key (id)
    )
2025-07-30 09:22:54.020 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table usuario (
        ativo boolean not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        restaurante_id bigint,
        email varchar(255) not null unique,
        nome varchar(255) not null,
        senha varchar(255) not null,
        role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null,
        primary key (id)
    )
2025-07-30 09:22:54.023 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists cliente 
       add constraint FKc3u631ocxdrtm3ccpme0kjlmu 
       foreign key (usuario_id) 
       references usuario
2025-07-30 09:22:54.042 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists itens_pedido 
       add constraint FK42mycompce3b7yt3l6ukdwsxy 
       foreign key (pedido_id) 
       references pedidos
2025-07-30 09:22:54.044 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists itens_pedido 
       add constraint FK3uo2duj20r2i4mwplv4vb26u6 
       foreign key (produto_id) 
       references produto
2025-07-30 09:22:54.047 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists pedidos 
       add constraint FK6wgk5emlhdcthucnnmi4dpl33 
       foreign key (cliente_id) 
       references cliente
2025-07-30 09:22:54.049 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists pedidos 
       add constraint FK5ti4tnra3ey4hpd7ko661ndg0 
       foreign key (restaurante_id) 
       references restaurante
2025-07-30 09:22:54.051 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists produto 
       add constraint FKb9jhjyghjcn25guim7q4pt8qx 
       foreign key (restaurante_id) 
       references restaurante
2025-07-30 09:22:54.060 [restartedMain] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-30 09:22:54.582 [restartedMain] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-30 09:22:55.856 [restartedMain] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioService]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-07-30 09:22:55.856 [restartedMain] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-07-30 09:22:56.397 [restartedMain] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 17 endpoints beneath base path '/actuator'
2025-07-30 09:22:56.482 [restartedMain] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-07-30 09:22:56.959 [restartedMain] INFO  [] o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:deliverydb'
2025-07-30 09:22:57.079 [restartedMain] INFO  [] o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-30 09:22:57.216 [restartedMain] INFO  [] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-30 09:22:57.225 [restartedMain] WARN  [] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-07-30 09:22:57.233 [restartedMain] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-30 09:22:57.235 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists cliente cascade 
2025-07-30 09:22:57.238 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists itens_pedido cascade 
2025-07-30 09:22:57.240 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists pedidos cascade 
2025-07-30 09:22:57.241 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists produto cascade 
2025-07-30 09:22:57.243 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists project cascade 
2025-07-30 09:22:57.244 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists restaurante cascade 
2025-07-30 09:22:57.244 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists usuario cascade 
2025-07-30 09:22:57.252 [restartedMain] WARN  [] o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-224]
2025-07-30 09:22:57.252 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-30 09:22:57.255 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-30 09:22:57.283 [restartedMain] INFO  [] o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-30 09:22:57.312 [restartedMain] ERROR [] o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2025-07-30 09:26:55.037 [restartedMain] INFO  [] c.d.delivery.DeliveryApiApplication - Starting DeliveryApiApplication using Java 21.0.7 with PID 15592 (C:\FAT_Java_2025\workspace - local\delivery-api\target\classes started by rebre in C:\FAT_Java_2025\workspace - local\delivery-api)
2025-07-30 09:26:55.040 [restartedMain] INFO  [] c.d.delivery.DeliveryApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-30 09:26:55.094 [restartedMain] INFO  [] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-30 09:26:55.094 [restartedMain] INFO  [] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-30 09:26:56.629 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-30 09:26:56.631 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-30 09:26:56.740 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 100 ms. Found 7 JPA repository interfaces.
2025-07-30 09:26:57.005 [restartedMain] INFO  [] o.s.cloud.context.scope.GenericScope - BeanFactory id=071b8050-7555-34c2-8aab-ec114a906539
2025-07-30 09:26:57.680 [restartedMain] INFO  [] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-30 09:26:57.693 [restartedMain] INFO  [] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-30 09:26:57.695 [restartedMain] INFO  [] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-30 09:26:57.695 [restartedMain] INFO  [] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-30 09:26:57.767 [restartedMain] INFO  [] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-30 09:26:57.768 [restartedMain] INFO  [] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2673 ms
2025-07-30 09:26:58.639 [restartedMain] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-30 09:26:58.678 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-30 09:26:58.878 [restartedMain] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:deliverydb user=SA
2025-07-30 09:26:58.880 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-30 09:26:58.918 [restartedMain] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-30 09:27:00.167 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists cliente cascade 
2025-07-30 09:27:00.173 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists itens_pedido cascade 
2025-07-30 09:27:00.173 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists pedidos cascade 
2025-07-30 09:27:00.174 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists produto cascade 
2025-07-30 09:27:00.174 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists project cascade 
2025-07-30 09:27:00.174 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists restaurante cascade 
2025-07-30 09:27:00.175 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists usuario cascade 
2025-07-30 09:27:00.182 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table cliente (
        ativo boolean not null,
        data_cadastro timestamp(6),
        id bigint generated by default as identity,
        usuario_id bigint not null unique,
        cpf varchar(255),
        email varchar(255),
        endereco varchar(255),
        nome varchar(255),
        telefone varchar(255),
        primary key (id)
    )
2025-07-30 09:27:00.194 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table itens_pedido (
        preco_unitario numeric(38,2),
        quantidade integer not null,
        subtotal numeric(38,2),
        id bigint generated by default as identity,
        pedido_id bigint,
        produto_id bigint,
        primary key (id)
    )
2025-07-30 09:27:00.198 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table pedidos (
        data_pedido date,
        subtotal numeric(38,2),
        taxa_entrega numeric(10,2),
        valor_total numeric(38,2),
        cliente_id bigint,
        id bigint generated by default as identity,
        restaurante_id bigint,
        cep_entrega varchar(255) not null,
        endereco_entrega varchar(255) not null,
        numero_pedido varchar(255),
        observacoes varchar(255),
        forma_pagamento enum ('CARTAO_CREDITO','CARTAO_DEBITO','DINHEIRO','PIX','VALE_REFEICAO') not null,
        status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','PRONTO','SAIU_PARA_ENTREGA'),
        primary key (id)
    )
2025-07-30 09:27:00.201 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table produto (
        disponivel boolean not null,
        estoque integer not null,
        preco numeric(38,2),
        id bigint generated by default as identity,
        restaurante_id bigint not null,
        categoria varchar(255),
        descricao varchar(255),
        nome varchar(255),
        primary key (id)
    )
2025-07-30 09:27:00.202 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table project (
        id bigint generated by default as identity,
        observations varchar(255),
        project_title varchar(255),
        repository_url varchar(255),
        student_name varchar(255),
        primary key (id)
    )
2025-07-30 09:27:00.204 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table restaurante (
        ativo boolean not null,
        avaliacao numeric(3,2),
        taxa_entrega numeric(10,2) not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        nome varchar(100) not null,
        categoria varchar(255) not null,
        endereco varchar(255) not null,
        telefone varchar(255) not null,
        primary key (id)
    )
2025-07-30 09:27:00.205 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table usuario (
        ativo boolean not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        restaurante_id bigint,
        email varchar(255) not null unique,
        nome varchar(255) not null,
        senha varchar(255) not null,
        role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null,
        primary key (id)
    )
2025-07-30 09:27:00.207 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists cliente 
       add constraint FKc3u631ocxdrtm3ccpme0kjlmu 
       foreign key (usuario_id) 
       references usuario
2025-07-30 09:27:00.220 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists itens_pedido 
       add constraint FK42mycompce3b7yt3l6ukdwsxy 
       foreign key (pedido_id) 
       references pedidos
2025-07-30 09:27:00.222 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists itens_pedido 
       add constraint FK3uo2duj20r2i4mwplv4vb26u6 
       foreign key (produto_id) 
       references produto
2025-07-30 09:27:00.223 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists pedidos 
       add constraint FK6wgk5emlhdcthucnnmi4dpl33 
       foreign key (cliente_id) 
       references cliente
2025-07-30 09:27:00.225 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists pedidos 
       add constraint FK5ti4tnra3ey4hpd7ko661ndg0 
       foreign key (restaurante_id) 
       references restaurante
2025-07-30 09:27:00.225 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists produto 
       add constraint FKb9jhjyghjcn25guim7q4pt8qx 
       foreign key (restaurante_id) 
       references restaurante
2025-07-30 09:27:00.231 [restartedMain] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-30 09:27:00.718 [restartedMain] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-30 09:27:01.889 [restartedMain] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioService]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-07-30 09:27:01.889 [restartedMain] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-07-30 09:27:02.426 [restartedMain] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 17 endpoints beneath base path '/actuator'
2025-07-30 09:27:02.520 [restartedMain] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-07-30 09:27:03.084 [restartedMain] INFO  [] o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:deliverydb'
2025-07-30 09:27:03.238 [restartedMain] INFO  [] o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-30 09:27:03.416 [restartedMain] INFO  [] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-30 09:27:03.455 [restartedMain] INFO  [] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-30 09:27:03.482 [restartedMain] INFO  [] c.d.delivery.DeliveryApiApplication - Started DeliveryApiApplication in 9.073 seconds (process running for 10.078)
2025-07-30 09:27:03.629 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.cep_entrega,
        p1_0.cliente_id,
        p1_0.data_pedido,
        p1_0.endereco_entrega,
        p1_0.forma_pagamento,
        p1_0.numero_pedido,
        p1_0.observacoes,
        p1_0.restaurante_id,
        p1_0.status,
        p1_0.subtotal,
        p1_0.taxa_entrega,
        p1_0.valor_total 
    from
        pedidos p1_0
2025-07-30 09:27:03.677 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.categoria,
        p1_0.descricao,
        p1_0.disponivel,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco,
        p1_0.restaurante_id 
    from
        produto p1_0
2025-07-30 09:27:03.682 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.data_criacao,
        r1_0.endereco,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone 
    from
        restaurante r1_0
2025-07-30 09:27:03.686 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0
2025-07-30 09:27:03.690 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.cpf,
        c1_0.data_cadastro,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone,
        c1_0.usuario_id 
    from
        cliente c1_0
2025-07-30 09:27:03.780 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-07-30 09:27:03.983 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Usuario */insert 
    into
        usuario (ativo, data_criacao, email, nome, restaurante_id, role, senha, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-07-30 09:27:04.030 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-07-30 09:27:04.173 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Usuario */insert 
    into
        usuario (ativo, data_criacao, email, nome, restaurante_id, role, senha, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-07-30 09:27:04.180 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-07-30 09:27:04.313 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Usuario */insert 
    into
        usuario (ativo, data_criacao, email, nome, restaurante_id, role, senha, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-07-30 09:27:04.318 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-07-30 09:27:04.458 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Usuario */insert 
    into
        usuario (ativo, data_criacao, email, nome, restaurante_id, role, senha, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-07-30 09:27:04.471 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Cliente */insert 
    into
        cliente (ativo, cpf, data_cadastro, email, endereco, nome, telefone, usuario_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-30 09:27:04.474 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Cliente */insert 
    into
        cliente (ativo, cpf, data_cadastro, email, endereco, nome, telefone, usuario_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-30 09:27:04.476 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Cliente */insert 
    into
        cliente (ativo, cpf, data_cadastro, email, endereco, nome, telefone, usuario_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-30 09:27:04.501 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Restaurante */insert 
    into
        restaurante (ativo, avaliacao, categoria, data_criacao, endereco, nome, taxa_entrega, telefone, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-30 09:27:04.504 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Restaurante */insert 
    into
        restaurante (ativo, avaliacao, categoria, data_criacao, endereco, nome, taxa_entrega, telefone, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-30 09:27:04.511 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.data_criacao,
        r1_0.endereco,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone 
    from
        restaurante r1_0
2025-07-30 09:27:04.531 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Produto */insert 
    into
        produto (categoria, descricao, disponivel, estoque, nome, preco, restaurante_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-07-30 09:27:04.532 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Produto */insert 
    into
        produto (categoria, descricao, disponivel, estoque, nome, preco, restaurante_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-07-30 09:27:04.534 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Produto */insert 
    into
        produto (categoria, descricao, disponivel, estoque, nome, preco, restaurante_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-07-30 09:27:04.536 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Produto */insert 
    into
        produto (categoria, descricao, disponivel, estoque, nome, preco, restaurante_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-07-30 09:27:04.538 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Produto */insert 
    into
        produto (categoria, descricao, disponivel, estoque, nome, preco, restaurante_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-07-30 09:27:04.544 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.cpf,
        c1_0.data_cadastro,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone,
        c1_0.usuario_id 
    from
        cliente c1_0
2025-07-30 09:27:04.552 [restartedMain] DEBUG [] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.id=?
2025-07-30 09:27:04.555 [restartedMain] DEBUG [] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.id=?
2025-07-30 09:27:04.556 [restartedMain] DEBUG [] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.id=?
2025-07-30 09:27:04.560 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.data_criacao,
        r1_0.endereco,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone 
    from
        restaurante r1_0
2025-07-30 09:27:04.565 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.categoria,
        p1_0.descricao,
        p1_0.disponivel,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco,
        p1_0.restaurante_id 
    from
        produto p1_0
2025-07-30 09:27:04.566 [restartedMain] DEBUG [] org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.data_criacao,
        r1_0.endereco,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone 
    from
        restaurante r1_0 
    where
        r1_0.id=?
2025-07-30 09:27:04.569 [restartedMain] DEBUG [] org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.data_criacao,
        r1_0.endereco,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone 
    from
        restaurante r1_0 
    where
        r1_0.id=?
2025-07-30 09:27:04.576 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Pedido */insert 
    into
        pedidos (cep_entrega, cliente_id, data_pedido, endereco_entrega, forma_pagamento, numero_pedido, observacoes, restaurante_id, status, subtotal, taxa_entrega, valor_total, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-30 09:27:04.581 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.ItemPedido */insert 
    into
        itens_pedido (pedido_id, preco_unitario, produto_id, quantidade, subtotal, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-07-30 09:27:04.584 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Pedido */insert 
    into
        pedidos (cep_entrega, cliente_id, data_pedido, endereco_entrega, forma_pagamento, numero_pedido, observacoes, restaurante_id, status, subtotal, taxa_entrega, valor_total, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-30 09:27:04.587 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.ItemPedido */insert 
    into
        itens_pedido (pedido_id, preco_unitario, produto_id, quantidade, subtotal, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-07-30 09:27:04.588 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.ItemPedido */insert 
    into
        itens_pedido (pedido_id, preco_unitario, produto_id, quantidade, subtotal, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-07-30 09:27:04.605 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.cpf,
        c1_0.data_cadastro,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone,
        c1_0.usuario_id 
    from
        cliente c1_0 
    where
        c1_0.email=?
2025-07-30 09:27:04.607 [restartedMain] DEBUG [] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.id=?
2025-07-30 09:27:04.614 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.cpf,
        c1_0.data_cadastro,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone,
        c1_0.usuario_id 
    from
        cliente c1_0 
    where
        c1_0.ativo
2025-07-30 09:27:04.618 [restartedMain] DEBUG [] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.id=?
2025-07-30 09:27:04.621 [restartedMain] DEBUG [] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.id=?
2025-07-30 09:27:04.635 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.cpf,
        c1_0.data_cadastro,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone,
        c1_0.usuario_id 
    from
        cliente c1_0 
    where
        upper(c1_0.nome) like upper(?) escape '\'
2025-07-30 09:27:04.640 [restartedMain] DEBUG [] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.id=?
2025-07-30 09:27:04.649 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id 
    from
        cliente c1_0 
    where
        c1_0.email=? 
    fetch
        first ? rows only
2025-07-30 09:27:05.144 [RMI TCP Connection(4)-127.0.0.1] INFO  [] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-30 09:27:05.144 [RMI TCP Connection(4)-127.0.0.1] INFO  [] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-30 09:27:05.147 [RMI TCP Connection(4)-127.0.0.1] INFO  [] o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-07-30 09:29:06.270 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /actuator/health
2025-07-30 09:29:06.313 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /actuator/health
2025-07-30 09:29:07.971 [http-nio-8080-exec-2] DEBUG [5e6dba8272ff41bf] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-30 09:29:08.066 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-07-30 09:29:08.070 [http-nio-8080-exec-3] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-30 09:29:08.080 [http-nio-8080-exec-3] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-07-30 09:29:08.096 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /error
2025-07-30 09:29:08.098 [http-nio-8080-exec-3] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-30 09:29:08.101 [http-nio-8080-exec-3] DEBUG [] o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/error?continue to session
2025-07-30 09:29:08.102 [http-nio-8080-exec-3] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-07-30 09:29:26.041 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /restaurantes
2025-07-30 09:29:26.042 [http-nio-8080-exec-6] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-30 09:29:26.045 [http-nio-8080-exec-6] DEBUG [] o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/restaurantes?continue to session
2025-07-30 09:29:26.045 [http-nio-8080-exec-6] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-07-30 09:29:26.047 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /error
2025-07-30 09:29:26.049 [http-nio-8080-exec-6] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-30 09:29:26.050 [http-nio-8080-exec-6] DEBUG [] o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/error?continue to session
2025-07-30 09:29:26.050 [http-nio-8080-exec-6] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-07-30 09:31:07.235 [RMI TCP Connection(9)-127.0.0.1] INFO  [] o.s.b.a.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin - Application shutdown requested.
2025-07-30 09:31:07.241 [RMI TCP Connection(9)-127.0.0.1] INFO  [] o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-30 09:31:07.269 [RMI TCP Connection(9)-127.0.0.1] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-30 09:31:07.270 [RMI TCP Connection(9)-127.0.0.1] DEBUG [] org.hibernate.SQL - 
    drop table if exists cliente cascade 
2025-07-30 09:31:07.292 [RMI TCP Connection(9)-127.0.0.1] DEBUG [] org.hibernate.SQL - 
    drop table if exists itens_pedido cascade 
2025-07-30 09:31:07.294 [RMI TCP Connection(9)-127.0.0.1] DEBUG [] org.hibernate.SQL - 
    drop table if exists pedidos cascade 
2025-07-30 09:31:07.295 [RMI TCP Connection(9)-127.0.0.1] DEBUG [] org.hibernate.SQL - 
    drop table if exists produto cascade 
2025-07-30 09:31:07.296 [RMI TCP Connection(9)-127.0.0.1] DEBUG [] org.hibernate.SQL - 
    drop table if exists project cascade 
2025-07-30 09:31:07.296 [RMI TCP Connection(9)-127.0.0.1] DEBUG [] org.hibernate.SQL - 
    drop table if exists restaurante cascade 
2025-07-30 09:31:07.297 [RMI TCP Connection(9)-127.0.0.1] DEBUG [] org.hibernate.SQL - 
    drop table if exists usuario cascade 
2025-07-30 09:31:07.309 [RMI TCP Connection(9)-127.0.0.1] WARN  [] o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-224]
2025-07-30 09:31:07.311 [RMI TCP Connection(9)-127.0.0.1] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-30 09:31:07.315 [RMI TCP Connection(9)-127.0.0.1] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
