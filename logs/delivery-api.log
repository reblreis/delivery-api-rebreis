2025-07-31 00:13:06.380 [restartedMain] INFO  [] c.d.delivery.DeliveryApiApplication - Starting DeliveryApiApplication using Java 21.0.7 with PID 8916 (C:\FAT_Java_2025\workspace - local\delivery-api\target\classes started by rebre in C:\FAT_Java_2025\workspace - local\delivery-api)
2025-07-31 00:13:06.387 [restartedMain] INFO  [] c.d.delivery.DeliveryApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-31 00:13:06.455 [restartedMain] INFO  [] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-31 00:13:06.457 [restartedMain] INFO  [] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-31 00:13:07.852 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-31 00:13:07.854 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-31 00:13:07.928 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 67 ms. Found 7 JPA repository interfaces.
2025-07-31 00:13:08.132 [restartedMain] INFO  [] o.s.cloud.context.scope.GenericScope - BeanFactory id=071b8050-7555-34c2-8aab-ec114a906539
2025-07-31 00:13:08.732 [restartedMain] INFO  [] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-31 00:13:08.746 [restartedMain] INFO  [] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-31 00:13:08.747 [restartedMain] INFO  [] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-31 00:13:08.747 [restartedMain] INFO  [] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-31 00:13:08.820 [restartedMain] INFO  [] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-31 00:13:08.820 [restartedMain] INFO  [] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2362 ms
2025-07-31 00:13:09.617 [restartedMain] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-31 00:13:09.650 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-31 00:13:09.852 [restartedMain] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:deliverydb user=SA
2025-07-31 00:13:09.853 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-31 00:13:09.884 [restartedMain] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-31 00:13:10.971 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists cliente cascade 
2025-07-31 00:13:10.976 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists itens_pedido cascade 
2025-07-31 00:13:10.976 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists pedidos cascade 
2025-07-31 00:13:10.976 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists produto cascade 
2025-07-31 00:13:10.976 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists project cascade 
2025-07-31 00:13:10.976 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists restaurante cascade 
2025-07-31 00:13:10.976 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists usuario cascade 
2025-07-31 00:13:10.986 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table cliente (
        ativo boolean not null,
        data_cadastro timestamp(6),
        id bigint generated by default as identity,
        usuario_id bigint not null unique,
        cpf varchar(255),
        email varchar(255),
        endereco varchar(255),
        nome varchar(255),
        telefone varchar(255),
        primary key (id)
    )
2025-07-31 00:13:10.997 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table itens_pedido (
        preco_unitario numeric(38,2),
        quantidade integer not null,
        subtotal numeric(38,2),
        id bigint generated by default as identity,
        pedido_id bigint,
        produto_id bigint,
        primary key (id)
    )
2025-07-31 00:13:11.000 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table pedidos (
        data_pedido date,
        subtotal numeric(38,2),
        taxa_entrega numeric(10,2),
        valor_total numeric(38,2),
        cliente_id bigint,
        id bigint generated by default as identity,
        restaurante_id bigint,
        cep_entrega varchar(255) not null,
        endereco_entrega varchar(255) not null,
        numero_pedido varchar(255),
        observacoes varchar(255),
        forma_pagamento enum ('CARTAO_CREDITO','CARTAO_DEBITO','DINHEIRO','PIX','VALE_REFEICAO') not null,
        status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','PRONTO','SAIU_PARA_ENTREGA'),
        primary key (id)
    )
2025-07-31 00:13:11.003 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table produto (
        disponivel boolean not null,
        estoque integer not null,
        preco numeric(38,2),
        id bigint generated by default as identity,
        restaurante_id bigint not null,
        categoria varchar(255),
        descricao varchar(255),
        nome varchar(255),
        primary key (id)
    )
2025-07-31 00:13:11.005 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table project (
        id bigint generated by default as identity,
        observations varchar(255),
        project_title varchar(255),
        repository_url varchar(255),
        student_name varchar(255),
        primary key (id)
    )
2025-07-31 00:13:11.006 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table restaurante (
        ativo boolean not null,
        avaliacao numeric(3,2),
        taxa_entrega numeric(10,2) not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        nome varchar(100) not null,
        categoria varchar(255) not null,
        endereco varchar(255) not null,
        telefone varchar(255) not null,
        primary key (id)
    )
2025-07-31 00:13:11.007 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table usuario (
        ativo boolean not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        restaurante_id bigint,
        email varchar(255) not null unique,
        nome varchar(255) not null,
        senha varchar(255) not null,
        role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null,
        primary key (id)
    )
2025-07-31 00:13:11.008 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists cliente 
       add constraint FKc3u631ocxdrtm3ccpme0kjlmu 
       foreign key (usuario_id) 
       references usuario
2025-07-31 00:13:11.022 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists itens_pedido 
       add constraint FK42mycompce3b7yt3l6ukdwsxy 
       foreign key (pedido_id) 
       references pedidos
2025-07-31 00:13:11.023 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists itens_pedido 
       add constraint FK3uo2duj20r2i4mwplv4vb26u6 
       foreign key (produto_id) 
       references produto
2025-07-31 00:13:11.025 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists pedidos 
       add constraint FK6wgk5emlhdcthucnnmi4dpl33 
       foreign key (cliente_id) 
       references cliente
2025-07-31 00:13:11.027 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists pedidos 
       add constraint FK5ti4tnra3ey4hpd7ko661ndg0 
       foreign key (restaurante_id) 
       references restaurante
2025-07-31 00:13:11.028 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists produto 
       add constraint FKb9jhjyghjcn25guim7q4pt8qx 
       foreign key (restaurante_id) 
       references restaurante
2025-07-31 00:13:11.032 [restartedMain] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-31 00:13:11.414 [restartedMain] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-31 00:13:12.348 [restartedMain] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioService]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-07-31 00:13:12.349 [restartedMain] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-07-31 00:13:12.787 [restartedMain] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 17 endpoints beneath base path '/actuator'
2025-07-31 00:13:12.856 [restartedMain] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-07-31 00:13:13.216 [restartedMain] INFO  [] o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:deliverydb'
2025-07-31 00:13:13.340 [restartedMain] INFO  [] o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-31 00:13:13.445 [restartedMain] INFO  [] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-31 00:13:13.467 [restartedMain] INFO  [] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-31 00:13:13.484 [restartedMain] INFO  [] c.d.delivery.DeliveryApiApplication - Started DeliveryApiApplication in 7.674 seconds (process running for 8.567)
2025-07-31 00:13:13.575 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.cep_entrega,
        p1_0.cliente_id,
        p1_0.data_pedido,
        p1_0.endereco_entrega,
        p1_0.forma_pagamento,
        p1_0.numero_pedido,
        p1_0.observacoes,
        p1_0.restaurante_id,
        p1_0.status,
        p1_0.subtotal,
        p1_0.taxa_entrega,
        p1_0.valor_total 
    from
        pedidos p1_0
2025-07-31 00:13:13.596 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.categoria,
        p1_0.descricao,
        p1_0.disponivel,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco,
        p1_0.restaurante_id 
    from
        produto p1_0
2025-07-31 00:13:13.599 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.data_criacao,
        r1_0.endereco,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone 
    from
        restaurante r1_0
2025-07-31 00:13:13.601 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0
2025-07-31 00:13:13.603 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.cpf,
        c1_0.data_cadastro,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone,
        c1_0.usuario_id 
    from
        cliente c1_0
2025-07-31 00:13:13.648 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-07-31 00:13:13.756 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Usuario */insert 
    into
        usuario (ativo, data_criacao, email, nome, restaurante_id, role, senha, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 00:13:13.779 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-07-31 00:13:13.856 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Usuario */insert 
    into
        usuario (ativo, data_criacao, email, nome, restaurante_id, role, senha, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 00:13:13.859 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-07-31 00:13:13.934 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Usuario */insert 
    into
        usuario (ativo, data_criacao, email, nome, restaurante_id, role, senha, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 00:13:13.937 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-07-31 00:13:14.012 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Usuario */insert 
    into
        usuario (ativo, data_criacao, email, nome, restaurante_id, role, senha, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 00:13:14.018 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Cliente */insert 
    into
        cliente (ativo, cpf, data_cadastro, email, endereco, nome, telefone, usuario_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 00:13:14.019 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Cliente */insert 
    into
        cliente (ativo, cpf, data_cadastro, email, endereco, nome, telefone, usuario_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 00:13:14.020 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Cliente */insert 
    into
        cliente (ativo, cpf, data_cadastro, email, endereco, nome, telefone, usuario_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 00:13:14.034 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Restaurante */insert 
    into
        restaurante (ativo, avaliacao, categoria, data_criacao, endereco, nome, taxa_entrega, telefone, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 00:13:14.036 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Restaurante */insert 
    into
        restaurante (ativo, avaliacao, categoria, data_criacao, endereco, nome, taxa_entrega, telefone, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 00:13:14.040 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.data_criacao,
        r1_0.endereco,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone 
    from
        restaurante r1_0
2025-07-31 00:13:14.051 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Produto */insert 
    into
        produto (categoria, descricao, disponivel, estoque, nome, preco, restaurante_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 00:13:14.052 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Produto */insert 
    into
        produto (categoria, descricao, disponivel, estoque, nome, preco, restaurante_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 00:13:14.053 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Produto */insert 
    into
        produto (categoria, descricao, disponivel, estoque, nome, preco, restaurante_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 00:13:14.053 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Produto */insert 
    into
        produto (categoria, descricao, disponivel, estoque, nome, preco, restaurante_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 00:13:14.054 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Produto */insert 
    into
        produto (categoria, descricao, disponivel, estoque, nome, preco, restaurante_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 00:13:14.056 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.cpf,
        c1_0.data_cadastro,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone,
        c1_0.usuario_id 
    from
        cliente c1_0
2025-07-31 00:13:14.060 [restartedMain] DEBUG [] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.id=?
2025-07-31 00:13:14.061 [restartedMain] DEBUG [] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.id=?
2025-07-31 00:13:14.062 [restartedMain] DEBUG [] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.id=?
2025-07-31 00:13:14.064 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.data_criacao,
        r1_0.endereco,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone 
    from
        restaurante r1_0
2025-07-31 00:13:14.066 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.categoria,
        p1_0.descricao,
        p1_0.disponivel,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco,
        p1_0.restaurante_id 
    from
        produto p1_0
2025-07-31 00:13:14.066 [restartedMain] DEBUG [] org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.data_criacao,
        r1_0.endereco,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone 
    from
        restaurante r1_0 
    where
        r1_0.id=?
2025-07-31 00:13:14.067 [restartedMain] DEBUG [] org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.data_criacao,
        r1_0.endereco,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone 
    from
        restaurante r1_0 
    where
        r1_0.id=?
2025-07-31 00:13:14.072 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Pedido */insert 
    into
        pedidos (cep_entrega, cliente_id, data_pedido, endereco_entrega, forma_pagamento, numero_pedido, observacoes, restaurante_id, status, subtotal, taxa_entrega, valor_total, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 00:13:14.074 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.ItemPedido */insert 
    into
        itens_pedido (pedido_id, preco_unitario, produto_id, quantidade, subtotal, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-07-31 00:13:14.076 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Pedido */insert 
    into
        pedidos (cep_entrega, cliente_id, data_pedido, endereco_entrega, forma_pagamento, numero_pedido, observacoes, restaurante_id, status, subtotal, taxa_entrega, valor_total, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 00:13:14.077 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.ItemPedido */insert 
    into
        itens_pedido (pedido_id, preco_unitario, produto_id, quantidade, subtotal, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-07-31 00:13:14.078 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.ItemPedido */insert 
    into
        itens_pedido (pedido_id, preco_unitario, produto_id, quantidade, subtotal, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-07-31 00:13:14.087 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.cpf,
        c1_0.data_cadastro,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone,
        c1_0.usuario_id 
    from
        cliente c1_0 
    where
        c1_0.email=?
2025-07-31 00:13:14.088 [restartedMain] DEBUG [] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.id=?
2025-07-31 00:13:14.091 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.cpf,
        c1_0.data_cadastro,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone,
        c1_0.usuario_id 
    from
        cliente c1_0 
    where
        c1_0.ativo
2025-07-31 00:13:14.092 [restartedMain] DEBUG [] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.id=?
2025-07-31 00:13:14.093 [restartedMain] DEBUG [] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.id=?
2025-07-31 00:13:14.102 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.cpf,
        c1_0.data_cadastro,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone,
        c1_0.usuario_id 
    from
        cliente c1_0 
    where
        upper(c1_0.nome) like upper(?) escape '\'
2025-07-31 00:13:14.104 [restartedMain] DEBUG [] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.id=?
2025-07-31 00:13:14.109 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id 
    from
        cliente c1_0 
    where
        c1_0.email=? 
    fetch
        first ? rows only
2025-07-31 00:13:14.552 [RMI TCP Connection(4)-127.0.0.1] INFO  [] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-31 00:13:14.552 [RMI TCP Connection(4)-127.0.0.1] INFO  [] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-31 00:13:14.554 [RMI TCP Connection(4)-127.0.0.1] INFO  [] o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-07-31 00:31:28.186 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /actuator/metrics
2025-07-31 00:31:28.214 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /actuator/metrics
2025-07-31 00:31:28.314 [http-nio-8080-exec-1] DEBUG [e673d0ed9e5f430c] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-31 00:31:28.398 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-07-31 00:31:28.399 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-31 00:31:28.406 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-07-31 00:31:28.420 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /error
2025-07-31 00:31:28.422 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-31 00:31:28.426 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/error?continue to session
2025-07-31 00:31:28.426 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-07-31 00:32:02.957 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /actuator/metrics/delivery_pedidos_total
2025-07-31 00:32:02.959 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /actuator/metrics/delivery_pedidos_total
2025-07-31 00:32:02.964 [http-nio-8080-exec-3] DEBUG [118cb863f3ad4533] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-31 00:32:15.253 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /actuator/health
2025-07-31 00:32:15.255 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /actuator/health
2025-07-31 00:32:16.306 [http-nio-8080-exec-4] DEBUG [a3a1faa05bdc4c67] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-31 00:32:16.376 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-07-31 00:32:16.379 [http-nio-8080-exec-5] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-31 00:32:16.380 [http-nio-8080-exec-5] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-07-31 00:32:16.382 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /error
2025-07-31 00:32:16.385 [http-nio-8080-exec-5] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-31 00:32:16.387 [http-nio-8080-exec-5] DEBUG [] o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/error?continue to session
2025-07-31 00:32:16.388 [http-nio-8080-exec-5] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-07-31 00:39:42.954 [RMI TCP Connection(33)-127.0.0.1] INFO  [] o.s.b.a.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin - Application shutdown requested.
2025-07-31 00:39:42.961 [RMI TCP Connection(33)-127.0.0.1] INFO  [] o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-31 00:39:42.975 [RMI TCP Connection(33)-127.0.0.1] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-31 00:39:42.975 [RMI TCP Connection(33)-127.0.0.1] DEBUG [] org.hibernate.SQL - 
    drop table if exists cliente cascade 
2025-07-31 00:39:42.975 [RMI TCP Connection(33)-127.0.0.1] DEBUG [] org.hibernate.SQL - 
    drop table if exists itens_pedido cascade 
2025-07-31 00:39:42.975 [RMI TCP Connection(33)-127.0.0.1] DEBUG [] org.hibernate.SQL - 
    drop table if exists pedidos cascade 
2025-07-31 00:39:42.985 [RMI TCP Connection(33)-127.0.0.1] DEBUG [] org.hibernate.SQL - 
    drop table if exists produto cascade 
2025-07-31 00:39:42.985 [RMI TCP Connection(33)-127.0.0.1] DEBUG [] org.hibernate.SQL - 
    drop table if exists project cascade 
2025-07-31 00:39:42.985 [RMI TCP Connection(33)-127.0.0.1] DEBUG [] org.hibernate.SQL - 
    drop table if exists restaurante cascade 
2025-07-31 00:39:42.985 [RMI TCP Connection(33)-127.0.0.1] DEBUG [] org.hibernate.SQL - 
    drop table if exists usuario cascade 
2025-07-31 00:39:42.985 [RMI TCP Connection(33)-127.0.0.1] WARN  [] o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-224]
2025-07-31 00:39:42.995 [RMI TCP Connection(33)-127.0.0.1] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-31 00:39:42.995 [RMI TCP Connection(33)-127.0.0.1] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-31 10:18:39.634 [restartedMain] INFO  [] c.d.delivery.DeliveryApiApplication - Starting DeliveryApiApplication using Java 21.0.7 with PID 20680 (C:\FAT_Java_2025\workspace - local\delivery-api\target\classes started by rebre in C:\FAT_Java_2025\workspace - local\delivery-api)
2025-07-31 10:18:39.638 [restartedMain] INFO  [] c.d.delivery.DeliveryApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-31 10:18:39.718 [restartedMain] INFO  [] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-31 10:18:39.719 [restartedMain] INFO  [] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-31 10:18:42.087 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-31 10:18:42.091 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-31 10:18:42.221 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 116 ms. Found 7 JPA repository interfaces.
2025-07-31 10:18:42.595 [restartedMain] INFO  [] o.s.cloud.context.scope.GenericScope - BeanFactory id=071b8050-7555-34c2-8aab-ec114a906539
2025-07-31 10:18:43.759 [restartedMain] INFO  [] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-31 10:18:43.790 [restartedMain] INFO  [] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-31 10:18:43.794 [restartedMain] INFO  [] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-31 10:18:43.794 [restartedMain] INFO  [] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-31 10:18:44.002 [restartedMain] INFO  [] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-31 10:18:44.005 [restartedMain] INFO  [] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4284 ms
2025-07-31 10:18:46.185 [restartedMain] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-31 10:18:46.250 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-31 10:18:46.868 [restartedMain] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:deliverydb user=SA
2025-07-31 10:18:46.871 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-31 10:18:46.937 [restartedMain] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-31 10:18:50.103 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists cliente cascade 
2025-07-31 10:18:50.113 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists itens_pedido cascade 
2025-07-31 10:18:50.115 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists pedidos cascade 
2025-07-31 10:18:50.115 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists produto cascade 
2025-07-31 10:18:50.116 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists project cascade 
2025-07-31 10:18:50.117 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists restaurante cascade 
2025-07-31 10:18:50.117 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists usuario cascade 
2025-07-31 10:18:50.133 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table cliente (
        ativo boolean not null,
        data_cadastro timestamp(6),
        id bigint generated by default as identity,
        usuario_id bigint not null unique,
        cpf varchar(255),
        email varchar(255),
        endereco varchar(255),
        nome varchar(255),
        telefone varchar(255),
        primary key (id)
    )
2025-07-31 10:18:50.160 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table itens_pedido (
        preco_unitario numeric(38,2),
        quantidade integer not null,
        subtotal numeric(38,2),
        id bigint generated by default as identity,
        pedido_id bigint,
        produto_id bigint,
        primary key (id)
    )
2025-07-31 10:18:50.165 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table pedidos (
        data_pedido date,
        subtotal numeric(38,2),
        taxa_entrega numeric(10,2),
        valor_total numeric(38,2),
        cliente_id bigint,
        id bigint generated by default as identity,
        restaurante_id bigint,
        cep_entrega varchar(255) not null,
        endereco_entrega varchar(255) not null,
        numero_pedido varchar(255),
        observacoes varchar(255),
        forma_pagamento enum ('CARTAO_CREDITO','CARTAO_DEBITO','DINHEIRO','PIX','VALE_REFEICAO') not null,
        status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','PRONTO','SAIU_PARA_ENTREGA'),
        primary key (id)
    )
2025-07-31 10:18:50.170 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table produto (
        disponivel boolean not null,
        estoque integer not null,
        preco numeric(38,2),
        id bigint generated by default as identity,
        restaurante_id bigint not null,
        categoria varchar(255),
        descricao varchar(255),
        nome varchar(255),
        primary key (id)
    )
2025-07-31 10:18:50.172 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table project (
        id bigint generated by default as identity,
        observations varchar(255),
        project_title varchar(255),
        repository_url varchar(255),
        student_name varchar(255),
        primary key (id)
    )
2025-07-31 10:18:50.174 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table restaurante (
        ativo boolean not null,
        avaliacao numeric(3,2),
        taxa_entrega numeric(10,2) not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        nome varchar(100) not null,
        categoria varchar(255) not null,
        endereco varchar(255) not null,
        telefone varchar(255) not null,
        primary key (id)
    )
2025-07-31 10:18:50.178 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table usuario (
        ativo boolean not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        restaurante_id bigint,
        email varchar(255) not null unique,
        nome varchar(255) not null,
        senha varchar(255) not null,
        role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null,
        primary key (id)
    )
2025-07-31 10:18:50.182 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists cliente 
       add constraint FKc3u631ocxdrtm3ccpme0kjlmu 
       foreign key (usuario_id) 
       references usuario
2025-07-31 10:18:50.215 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists itens_pedido 
       add constraint FK42mycompce3b7yt3l6ukdwsxy 
       foreign key (pedido_id) 
       references pedidos
2025-07-31 10:18:50.219 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists itens_pedido 
       add constraint FK3uo2duj20r2i4mwplv4vb26u6 
       foreign key (produto_id) 
       references produto
2025-07-31 10:18:50.222 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists pedidos 
       add constraint FK6wgk5emlhdcthucnnmi4dpl33 
       foreign key (cliente_id) 
       references cliente
2025-07-31 10:18:50.226 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists pedidos 
       add constraint FK5ti4tnra3ey4hpd7ko661ndg0 
       foreign key (restaurante_id) 
       references restaurante
2025-07-31 10:18:50.229 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists produto 
       add constraint FKb9jhjyghjcn25guim7q4pt8qx 
       foreign key (restaurante_id) 
       references restaurante
2025-07-31 10:18:50.241 [restartedMain] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-31 10:18:51.455 [restartedMain] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-31 10:18:53.224 [restartedMain] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioService]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-07-31 10:18:53.225 [restartedMain] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-07-31 10:18:54.059 [restartedMain] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 17 endpoints beneath base path '/actuator'
2025-07-31 10:18:54.183 [restartedMain] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-07-31 10:18:54.900 [restartedMain] INFO  [] o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:deliverydb'
2025-07-31 10:18:55.082 [restartedMain] INFO  [] o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-31 10:18:55.284 [restartedMain] INFO  [] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-31 10:18:55.324 [restartedMain] INFO  [] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-31 10:18:55.357 [restartedMain] INFO  [] c.d.delivery.DeliveryApiApplication - Started DeliveryApiApplication in 16.689 seconds (process running for 19.834)
2025-07-31 10:18:55.551 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.cep_entrega,
        p1_0.cliente_id,
        p1_0.data_pedido,
        p1_0.endereco_entrega,
        p1_0.forma_pagamento,
        p1_0.numero_pedido,
        p1_0.observacoes,
        p1_0.restaurante_id,
        p1_0.status,
        p1_0.subtotal,
        p1_0.taxa_entrega,
        p1_0.valor_total 
    from
        pedidos p1_0
2025-07-31 10:18:55.606 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.categoria,
        p1_0.descricao,
        p1_0.disponivel,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco,
        p1_0.restaurante_id 
    from
        produto p1_0
2025-07-31 10:18:55.616 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.data_criacao,
        r1_0.endereco,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone 
    from
        restaurante r1_0
2025-07-31 10:18:55.624 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0
2025-07-31 10:18:55.630 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.cpf,
        c1_0.data_cadastro,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone,
        c1_0.usuario_id 
    from
        cliente c1_0
2025-07-31 10:18:55.827 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-07-31 10:18:56.100 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Usuario */insert 
    into
        usuario (ativo, data_criacao, email, nome, restaurante_id, role, senha, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 10:18:56.156 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-07-31 10:18:56.323 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Usuario */insert 
    into
        usuario (ativo, data_criacao, email, nome, restaurante_id, role, senha, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 10:18:56.328 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-07-31 10:18:56.486 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Usuario */insert 
    into
        usuario (ativo, data_criacao, email, nome, restaurante_id, role, senha, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 10:18:56.492 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-07-31 10:18:56.672 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Usuario */insert 
    into
        usuario (ativo, data_criacao, email, nome, restaurante_id, role, senha, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 10:18:56.692 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Cliente */insert 
    into
        cliente (ativo, cpf, data_cadastro, email, endereco, nome, telefone, usuario_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 10:18:56.696 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Cliente */insert 
    into
        cliente (ativo, cpf, data_cadastro, email, endereco, nome, telefone, usuario_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 10:18:56.700 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Cliente */insert 
    into
        cliente (ativo, cpf, data_cadastro, email, endereco, nome, telefone, usuario_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 10:18:56.754 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Restaurante */insert 
    into
        restaurante (ativo, avaliacao, categoria, data_criacao, endereco, nome, taxa_entrega, telefone, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 10:18:56.759 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Restaurante */insert 
    into
        restaurante (ativo, avaliacao, categoria, data_criacao, endereco, nome, taxa_entrega, telefone, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 10:18:56.785 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.data_criacao,
        r1_0.endereco,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone 
    from
        restaurante r1_0
2025-07-31 10:18:56.832 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Produto */insert 
    into
        produto (categoria, descricao, disponivel, estoque, nome, preco, restaurante_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 10:18:56.835 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Produto */insert 
    into
        produto (categoria, descricao, disponivel, estoque, nome, preco, restaurante_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 10:18:56.842 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Produto */insert 
    into
        produto (categoria, descricao, disponivel, estoque, nome, preco, restaurante_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 10:18:56.846 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Produto */insert 
    into
        produto (categoria, descricao, disponivel, estoque, nome, preco, restaurante_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 10:18:56.850 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Produto */insert 
    into
        produto (categoria, descricao, disponivel, estoque, nome, preco, restaurante_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 10:18:56.858 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.cpf,
        c1_0.data_cadastro,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone,
        c1_0.usuario_id 
    from
        cliente c1_0
2025-07-31 10:18:56.876 [restartedMain] DEBUG [] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.id=?
2025-07-31 10:18:56.883 [restartedMain] DEBUG [] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.id=?
2025-07-31 10:18:56.889 [restartedMain] DEBUG [] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.id=?
2025-07-31 10:18:56.894 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.data_criacao,
        r1_0.endereco,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone 
    from
        restaurante r1_0
2025-07-31 10:18:56.900 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.categoria,
        p1_0.descricao,
        p1_0.disponivel,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco,
        p1_0.restaurante_id 
    from
        produto p1_0
2025-07-31 10:18:56.904 [restartedMain] DEBUG [] org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.data_criacao,
        r1_0.endereco,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone 
    from
        restaurante r1_0 
    where
        r1_0.id=?
2025-07-31 10:18:56.910 [restartedMain] DEBUG [] org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.data_criacao,
        r1_0.endereco,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone 
    from
        restaurante r1_0 
    where
        r1_0.id=?
2025-07-31 10:18:56.931 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Pedido */insert 
    into
        pedidos (cep_entrega, cliente_id, data_pedido, endereco_entrega, forma_pagamento, numero_pedido, observacoes, restaurante_id, status, subtotal, taxa_entrega, valor_total, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 10:18:56.939 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.ItemPedido */insert 
    into
        itens_pedido (pedido_id, preco_unitario, produto_id, quantidade, subtotal, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-07-31 10:18:56.948 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Pedido */insert 
    into
        pedidos (cep_entrega, cliente_id, data_pedido, endereco_entrega, forma_pagamento, numero_pedido, observacoes, restaurante_id, status, subtotal, taxa_entrega, valor_total, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 10:18:56.951 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.ItemPedido */insert 
    into
        itens_pedido (pedido_id, preco_unitario, produto_id, quantidade, subtotal, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-07-31 10:18:56.956 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.ItemPedido */insert 
    into
        itens_pedido (pedido_id, preco_unitario, produto_id, quantidade, subtotal, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-07-31 10:18:56.983 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.cpf,
        c1_0.data_cadastro,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone,
        c1_0.usuario_id 
    from
        cliente c1_0 
    where
        c1_0.email=?
2025-07-31 10:18:56.985 [restartedMain] DEBUG [] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.id=?
2025-07-31 10:18:56.998 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.cpf,
        c1_0.data_cadastro,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone,
        c1_0.usuario_id 
    from
        cliente c1_0 
    where
        c1_0.ativo
2025-07-31 10:18:57.002 [restartedMain] DEBUG [] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.id=?
2025-07-31 10:18:57.006 [restartedMain] DEBUG [] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.id=?
2025-07-31 10:18:57.045 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.cpf,
        c1_0.data_cadastro,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone,
        c1_0.usuario_id 
    from
        cliente c1_0 
    where
        upper(c1_0.nome) like upper(?) escape '\'
2025-07-31 10:18:57.054 [restartedMain] DEBUG [] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.id=?
2025-07-31 10:18:57.067 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id 
    from
        cliente c1_0 
    where
        c1_0.email=? 
    fetch
        first ? rows only
2025-07-31 10:18:58.371 [RMI TCP Connection(4)-127.0.0.1] INFO  [] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-31 10:18:58.372 [RMI TCP Connection(4)-127.0.0.1] INFO  [] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-31 10:18:58.381 [RMI TCP Connection(4)-127.0.0.1] INFO  [] o.s.web.servlet.DispatcherServlet - Completed initialization in 9 ms
2025-07-31 10:19:45.753 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/index.html
2025-07-31 10:19:45.797 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/index.html
2025-07-31 10:19:46.011 [http-nio-8080-exec-1] DEBUG [eb29f8ea873847f4] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-31 10:19:46.070 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui.css
2025-07-31 10:19:46.070 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui-bundle.js
2025-07-31 10:19:46.071 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/index.css
2025-07-31 10:19:46.074 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui.css
2025-07-31 10:19:46.075 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui-bundle.js
2025-07-31 10:19:46.076 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/index.css
2025-07-31 10:19:46.091 [http-nio-8080-exec-3] DEBUG [35517a71504b4644] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-31 10:19:46.101 [http-nio-8080-exec-2] DEBUG [6d0a93ab697d475a] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-31 10:19:46.152 [http-nio-8080-exec-4] DEBUG [55e9b1ef08ed4984] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-31 10:19:46.206 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui-standalone-preset.js
2025-07-31 10:19:46.220 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui-standalone-preset.js
2025-07-31 10:19:46.220 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-initializer.js
2025-07-31 10:19:46.225 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-initializer.js
2025-07-31 10:19:46.250 [http-nio-8080-exec-5] DEBUG [a660d1ec64924903] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-31 10:19:46.267 [http-nio-8080-exec-6] DEBUG [f4fe20e9a3bf49e5] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-31 10:19:46.687 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /v3/api-docs/swagger-config
2025-07-31 10:19:46.692 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /v3/api-docs/swagger-config
2025-07-31 10:19:46.748 [http-nio-8080-exec-7] DEBUG [4909bd57721b48e3] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-31 10:19:46.867 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /v3/api-docs
2025-07-31 10:19:46.882 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /v3/api-docs
2025-07-31 10:19:48.423 [http-nio-8080-exec-8] INFO  [2f3ecfe70132475c] o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 1490 ms
2025-07-31 10:19:48.465 [http-nio-8080-exec-8] DEBUG [2f3ecfe70132475c] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-31 10:20:03.734 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-07-31 10:20:03.737 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-07-31 10:20:03.847 [http-nio-8080-exec-9] DEBUG [185d36d6b3204c8e] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-07-31 10:20:04.275 [http-nio-8080-exec-9] DEBUG [185d36d6b3204c8e] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-31 10:21:38.048 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/produtos
2025-07-31 10:21:38.051 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-31 10:21:38.063 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/api/produtos?continue to session
2025-07-31 10:21:38.063 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-07-31 10:21:38.076 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /error
2025-07-31 10:21:38.077 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-31 10:21:38.079 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/error?continue to session
2025-07-31 10:21:38.079 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-07-31 10:22:51.708 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/pedidos
2025-07-31 10:22:51.709 [http-nio-8080-exec-5] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-31 10:22:51.712 [http-nio-8080-exec-5] DEBUG [] o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/api/pedidos?continue to session
2025-07-31 10:22:51.713 [http-nio-8080-exec-5] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-07-31 10:22:51.718 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /error
2025-07-31 10:22:51.721 [http-nio-8080-exec-5] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-31 10:22:51.723 [http-nio-8080-exec-5] DEBUG [] o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/error?continue to session
2025-07-31 10:22:51.724 [http-nio-8080-exec-5] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-07-31 10:23:24.161 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /clientes
2025-07-31 10:23:24.163 [http-nio-8080-exec-6] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-31 10:23:24.166 [http-nio-8080-exec-6] DEBUG [] o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/clientes?continue to session
2025-07-31 10:23:24.167 [http-nio-8080-exec-6] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-07-31 10:23:24.170 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /error
2025-07-31 10:23:24.172 [http-nio-8080-exec-6] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-31 10:23:24.174 [http-nio-8080-exec-6] DEBUG [] o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/error?continue to session
2025-07-31 10:23:24.174 [http-nio-8080-exec-6] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-07-31 10:23:48.806 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /api/restaurantes
2025-07-31 10:23:48.809 [http-nio-8080-exec-7] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-31 10:23:48.818 [http-nio-8080-exec-7] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-07-31 10:23:48.822 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /error
2025-07-31 10:23:48.823 [http-nio-8080-exec-7] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-31 10:23:48.824 [http-nio-8080-exec-7] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-07-31 10:24:30.941 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/index.html
2025-07-31 10:24:30.943 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/index.html
2025-07-31 10:24:30.948 [http-nio-8080-exec-8] DEBUG [9f735123308e48be] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-31 10:24:30.966 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/index.css
2025-07-31 10:24:30.966 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui.css
2025-07-31 10:24:30.967 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui.css
2025-07-31 10:24:30.967 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/index.css
2025-07-31 10:24:30.967 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui-bundle.js
2025-07-31 10:24:30.972 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui-bundle.js
2025-07-31 10:24:30.974 [http-nio-8080-exec-10] DEBUG [ab3b178e428e40c1] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-31 10:24:30.976 [http-nio-8080-exec-9] DEBUG [e11cbd93005e41b9] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-31 10:24:31.008 [http-nio-8080-exec-1] DEBUG [21f20709f49142e1] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-31 10:24:31.043 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui-standalone-preset.js
2025-07-31 10:24:31.046 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui-standalone-preset.js
2025-07-31 10:24:31.060 [http-nio-8080-exec-3] DEBUG [76fea024c6784332] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-31 10:24:31.079 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-initializer.js
2025-07-31 10:24:31.084 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-initializer.js
2025-07-31 10:24:31.091 [http-nio-8080-exec-2] DEBUG [d7e59422951d4bed] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-31 10:24:31.597 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /v3/api-docs/swagger-config
2025-07-31 10:24:31.598 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /v3/api-docs/swagger-config
2025-07-31 10:24:31.601 [http-nio-8080-exec-4] DEBUG [aaa265ce96614182] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-31 10:24:31.629 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /v3/api-docs
2025-07-31 10:24:31.632 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /v3/api-docs
2025-07-31 10:24:31.643 [http-nio-8080-exec-5] DEBUG [f9aaac90f79346af] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-31 10:24:36.271 [http-nio-8080-exec-6] DEBUG [] o.s.s.w.f.HttpStatusRequestRejectedHandler - Rejecting request due to: The request was rejected because the URL contained a potentially malicious String "//"
org.springframework.security.web.firewall.RequestRejectedException: The request was rejected because the URL contained a potentially malicious String "//"
	at org.springframework.security.web.firewall.StrictHttpFirewall.rejectedBlocklistedUrls(StrictHttpFirewall.java:539)
	at org.springframework.security.web.firewall.StrictHttpFirewall.getFirewalledRequest(StrictHttpFirewall.java:509)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-07-31 10:24:36.278 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /error
2025-07-31 10:24:36.281 [http-nio-8080-exec-6] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-31 10:24:36.283 [http-nio-8080-exec-6] DEBUG [] o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/error?continue to session
2025-07-31 10:24:36.284 [http-nio-8080-exec-6] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-07-31 10:24:41.809 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /actuator/metrics/http.server.requests
2025-07-31 10:24:41.812 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /actuator/metrics/http.server.requests
2025-07-31 10:24:41.844 [http-nio-8080-exec-7] DEBUG [ec2cc52923d04123] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-31 10:24:41.952 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-07-31 10:24:41.954 [http-nio-8080-exec-8] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-31 10:24:41.955 [http-nio-8080-exec-8] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-07-31 10:24:41.959 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /error
2025-07-31 10:24:41.961 [http-nio-8080-exec-8] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-31 10:24:41.962 [http-nio-8080-exec-8] DEBUG [] o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/error?continue to session
2025-07-31 10:24:41.962 [http-nio-8080-exec-8] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-07-31 10:26:25.513 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /actuator/metrics/jvm.memory.used
2025-07-31 10:26:25.516 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /actuator/metrics/jvm.memory.used
2025-07-31 10:26:25.524 [http-nio-8080-exec-3] DEBUG [07b98691c64744da] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-31 10:26:25.567 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-07-31 10:26:25.568 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-31 10:26:25.568 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-07-31 10:26:25.569 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /error
2025-07-31 10:26:25.571 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-31 10:26:25.571 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/error?continue to session
2025-07-31 10:26:25.571 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-07-31 10:27:14.686 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /actuator/metrics/process.cpu.usage
2025-07-31 10:27:14.687 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /actuator/metrics/process.cpu.usage
2025-07-31 10:27:16.444 [http-nio-8080-exec-4] DEBUG [c28870c3ba8441f3] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-31 10:27:16.495 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-07-31 10:27:16.498 [http-nio-8080-exec-5] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-31 10:27:16.499 [http-nio-8080-exec-5] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-07-31 10:27:16.502 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /error
2025-07-31 10:27:16.505 [http-nio-8080-exec-5] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-31 10:27:16.506 [http-nio-8080-exec-5] DEBUG [] o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/error?continue to session
2025-07-31 10:27:16.507 [http-nio-8080-exec-5] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-07-31 11:03:31.618 [RMI TCP Connection(50)-127.0.0.1] INFO  [] o.s.b.a.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin - Application shutdown requested.
2025-07-31 11:03:31.638 [RMI TCP Connection(50)-127.0.0.1] INFO  [] o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-31 11:03:31.718 [RMI TCP Connection(50)-127.0.0.1] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-31 11:03:31.725 [RMI TCP Connection(50)-127.0.0.1] DEBUG [] org.hibernate.SQL - 
    drop table if exists cliente cascade 
2025-07-31 11:03:31.737 [RMI TCP Connection(50)-127.0.0.1] DEBUG [] org.hibernate.SQL - 
    drop table if exists itens_pedido cascade 
2025-07-31 11:03:31.738 [RMI TCP Connection(50)-127.0.0.1] DEBUG [] org.hibernate.SQL - 
    drop table if exists pedidos cascade 
2025-07-31 11:03:31.739 [RMI TCP Connection(50)-127.0.0.1] DEBUG [] org.hibernate.SQL - 
    drop table if exists produto cascade 
2025-07-31 11:03:31.741 [RMI TCP Connection(50)-127.0.0.1] DEBUG [] org.hibernate.SQL - 
    drop table if exists project cascade 
2025-07-31 11:03:31.741 [RMI TCP Connection(50)-127.0.0.1] DEBUG [] org.hibernate.SQL - 
    drop table if exists restaurante cascade 
2025-07-31 11:03:31.742 [RMI TCP Connection(50)-127.0.0.1] DEBUG [] org.hibernate.SQL - 
    drop table if exists usuario cascade 
2025-07-31 11:03:31.762 [RMI TCP Connection(50)-127.0.0.1] WARN  [] o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-224]
2025-07-31 11:03:31.763 [RMI TCP Connection(50)-127.0.0.1] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-31 11:03:31.768 [RMI TCP Connection(50)-127.0.0.1] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-31 17:42:14.049 [main] INFO  [] c.d.d.s.ProdutoServiceCacheTest - Starting ProdutoServiceCacheTest using Java 21.0.7 with PID 3080 (started by rebre in C:\FAT_Java_2025\workspace - local\delivery-api)
2025-07-31 17:42:14.051 [main] INFO  [] c.d.d.s.ProdutoServiceCacheTest - No active profile set, falling back to 1 default profile: "default"
2025-07-31 17:42:15.592 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-31 17:42:15.594 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-31 17:42:15.683 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 82 ms. Found 7 JPA repository interfaces.
2025-07-31 17:42:15.992 [main] INFO  [] o.s.cloud.context.scope.GenericScope - BeanFactory id=a502f89d-fc51-3c62-b4f0-748e0589a3c5
2025-07-31 17:42:18.008 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-31 17:42:18.061 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-31 17:42:18.304 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:deliverydb user=SA
2025-07-31 17:42:18.307 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-31 17:42:18.352 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-31 17:42:19.400 [main] DEBUG [] org.hibernate.SQL - 
    drop table if exists cliente cascade 
2025-07-31 17:42:19.403 [main] DEBUG [] org.hibernate.SQL - 
    drop table if exists itens_pedido cascade 
2025-07-31 17:42:19.404 [main] DEBUG [] org.hibernate.SQL - 
    drop table if exists pedidos cascade 
2025-07-31 17:42:19.406 [main] DEBUG [] org.hibernate.SQL - 
    drop table if exists produto cascade 
2025-07-31 17:42:19.406 [main] DEBUG [] org.hibernate.SQL - 
    drop table if exists project cascade 
2025-07-31 17:42:19.406 [main] DEBUG [] org.hibernate.SQL - 
    drop table if exists restaurante cascade 
2025-07-31 17:42:19.407 [main] DEBUG [] org.hibernate.SQL - 
    drop table if exists usuario cascade 
2025-07-31 17:42:19.412 [main] DEBUG [] org.hibernate.SQL - 
    create table cliente (
        ativo boolean not null,
        data_cadastro timestamp(6),
        id bigint generated by default as identity,
        usuario_id bigint not null unique,
        cpf varchar(255),
        email varchar(255),
        endereco varchar(255),
        nome varchar(255),
        telefone varchar(255),
        primary key (id)
    )
2025-07-31 17:42:19.421 [main] DEBUG [] org.hibernate.SQL - 
    create table itens_pedido (
        preco_unitario numeric(38,2),
        quantidade integer not null,
        subtotal numeric(38,2),
        id bigint generated by default as identity,
        pedido_id bigint,
        produto_id bigint,
        primary key (id)
    )
2025-07-31 17:42:19.424 [main] DEBUG [] org.hibernate.SQL - 
    create table pedidos (
        data_pedido date,
        subtotal numeric(38,2),
        taxa_entrega numeric(10,2),
        valor_total numeric(38,2),
        cliente_id bigint,
        id bigint generated by default as identity,
        restaurante_id bigint,
        cep_entrega varchar(255) not null,
        endereco_entrega varchar(255) not null,
        numero_pedido varchar(255),
        observacoes varchar(255),
        forma_pagamento enum ('CARTAO_CREDITO','CARTAO_DEBITO','DINHEIRO','PIX','VALE_REFEICAO') not null,
        status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','PRONTO','SAIU_PARA_ENTREGA'),
        primary key (id)
    )
2025-07-31 17:42:19.425 [main] DEBUG [] org.hibernate.SQL - 
    create table produto (
        disponivel boolean not null,
        estoque integer not null,
        preco numeric(38,2),
        id bigint generated by default as identity,
        restaurante_id bigint not null,
        categoria varchar(255),
        descricao varchar(255),
        nome varchar(255),
        primary key (id)
    )
2025-07-31 17:42:19.427 [main] DEBUG [] org.hibernate.SQL - 
    create table project (
        id bigint generated by default as identity,
        observations varchar(255),
        project_title varchar(255),
        repository_url varchar(255),
        student_name varchar(255),
        primary key (id)
    )
2025-07-31 17:42:19.429 [main] DEBUG [] org.hibernate.SQL - 
    create table restaurante (
        ativo boolean not null,
        avaliacao numeric(3,2),
        taxa_entrega numeric(10,2) not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        nome varchar(100) not null,
        categoria varchar(255) not null,
        endereco varchar(255) not null,
        telefone varchar(255) not null,
        primary key (id)
    )
2025-07-31 17:42:19.430 [main] DEBUG [] org.hibernate.SQL - 
    create table usuario (
        ativo boolean not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        restaurante_id bigint,
        email varchar(255) not null unique,
        nome varchar(255) not null,
        senha varchar(255) not null,
        role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null,
        primary key (id)
    )
2025-07-31 17:42:19.432 [main] DEBUG [] org.hibernate.SQL - 
    alter table if exists cliente 
       add constraint FKc3u631ocxdrtm3ccpme0kjlmu 
       foreign key (usuario_id) 
       references usuario
2025-07-31 17:42:19.443 [main] DEBUG [] org.hibernate.SQL - 
    alter table if exists itens_pedido 
       add constraint FK42mycompce3b7yt3l6ukdwsxy 
       foreign key (pedido_id) 
       references pedidos
2025-07-31 17:42:19.445 [main] DEBUG [] org.hibernate.SQL - 
    alter table if exists itens_pedido 
       add constraint FK3uo2duj20r2i4mwplv4vb26u6 
       foreign key (produto_id) 
       references produto
2025-07-31 17:42:19.447 [main] DEBUG [] org.hibernate.SQL - 
    alter table if exists pedidos 
       add constraint FK6wgk5emlhdcthucnnmi4dpl33 
       foreign key (cliente_id) 
       references cliente
2025-07-31 17:42:19.447 [main] DEBUG [] org.hibernate.SQL - 
    alter table if exists pedidos 
       add constraint FK5ti4tnra3ey4hpd7ko661ndg0 
       foreign key (restaurante_id) 
       references restaurante
2025-07-31 17:42:19.449 [main] DEBUG [] org.hibernate.SQL - 
    alter table if exists produto 
       add constraint FKb9jhjyghjcn25guim7q4pt8qx 
       foreign key (restaurante_id) 
       references restaurante
2025-07-31 17:42:19.456 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-31 17:42:19.973 [main] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-31 17:42:21.249 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioService]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-07-31 17:42:21.250 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-07-31 17:42:21.852 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 16 endpoints beneath base path '/actuator'
2025-07-31 17:42:21.917 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-07-31 17:42:22.490 [main] INFO  [] o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:deliverydb'
2025-07-31 17:42:22.647 [main] INFO  [] c.d.d.s.ProdutoServiceCacheTest - Started ProdutoServiceCacheTest in 9.105 seconds (process running for 10.237)
2025-07-31 17:42:22.831 [main] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.cep_entrega,
        p1_0.cliente_id,
        p1_0.data_pedido,
        p1_0.endereco_entrega,
        p1_0.forma_pagamento,
        p1_0.numero_pedido,
        p1_0.observacoes,
        p1_0.restaurante_id,
        p1_0.status,
        p1_0.subtotal,
        p1_0.taxa_entrega,
        p1_0.valor_total 
    from
        pedidos p1_0
2025-07-31 17:42:22.872 [main] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.data_criacao,
        r1_0.endereco,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone 
    from
        restaurante r1_0
2025-07-31 17:42:22.875 [main] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0
2025-07-31 17:42:22.877 [main] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.cpf,
        c1_0.data_cadastro,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone,
        c1_0.usuario_id 
    from
        cliente c1_0
2025-07-31 17:42:22.919 [main] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-07-31 17:42:23.010 [main] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Usuario */insert 
    into
        usuario (ativo, data_criacao, email, nome, restaurante_id, role, senha, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 17:42:23.033 [main] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-07-31 17:42:23.088 [main] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Usuario */insert 
    into
        usuario (ativo, data_criacao, email, nome, restaurante_id, role, senha, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 17:42:23.090 [main] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-07-31 17:42:23.147 [main] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Usuario */insert 
    into
        usuario (ativo, data_criacao, email, nome, restaurante_id, role, senha, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 17:42:23.149 [main] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-07-31 17:42:23.205 [main] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Usuario */insert 
    into
        usuario (ativo, data_criacao, email, nome, restaurante_id, role, senha, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 17:42:23.212 [main] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Cliente */insert 
    into
        cliente (ativo, cpf, data_cadastro, email, endereco, nome, telefone, usuario_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 17:42:23.214 [main] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Cliente */insert 
    into
        cliente (ativo, cpf, data_cadastro, email, endereco, nome, telefone, usuario_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 17:42:23.215 [main] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Cliente */insert 
    into
        cliente (ativo, cpf, data_cadastro, email, endereco, nome, telefone, usuario_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 17:42:23.234 [main] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Restaurante */insert 
    into
        restaurante (ativo, avaliacao, categoria, data_criacao, endereco, nome, taxa_entrega, telefone, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 17:42:23.237 [main] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Restaurante */insert 
    into
        restaurante (ativo, avaliacao, categoria, data_criacao, endereco, nome, taxa_entrega, telefone, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 17:42:23.242 [main] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.data_criacao,
        r1_0.endereco,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone 
    from
        restaurante r1_0
2025-07-31 17:42:23.260 [main] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.cpf,
        c1_0.data_cadastro,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone,
        c1_0.usuario_id 
    from
        cliente c1_0
2025-07-31 17:42:23.265 [main] DEBUG [] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.id=?
2025-07-31 17:42:23.266 [main] DEBUG [] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.id=?
2025-07-31 17:42:23.267 [main] DEBUG [] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.id=?
2025-07-31 17:42:23.269 [main] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.data_criacao,
        r1_0.endereco,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone 
    from
        restaurante r1_0
2025-07-31 17:42:23.272 [main] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.cpf,
        c1_0.data_cadastro,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone,
        c1_0.usuario_id 
    from
        cliente c1_0 
    where
        c1_0.email=?
2025-07-31 17:42:23.273 [main] DEBUG [] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.id=?
2025-07-31 17:42:23.279 [main] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.cpf,
        c1_0.data_cadastro,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone,
        c1_0.usuario_id 
    from
        cliente c1_0 
    where
        c1_0.ativo
2025-07-31 17:42:23.281 [main] DEBUG [] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.id=?
2025-07-31 17:42:23.283 [main] DEBUG [] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.id=?
2025-07-31 17:42:23.294 [main] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.cpf,
        c1_0.data_cadastro,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone,
        c1_0.usuario_id 
    from
        cliente c1_0 
    where
        upper(c1_0.nome) like upper(?) escape '\'
2025-07-31 17:42:23.298 [main] DEBUG [] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.id=?
2025-07-31 17:42:23.305 [main] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id 
    from
        cliente c1_0 
    where
        c1_0.email=? 
    fetch
        first ? rows only
2025-07-31 17:42:23.372 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-31 17:42:23.373 [main] DEBUG [] org.hibernate.SQL - 
    drop table if exists cliente cascade 
2025-07-31 17:42:23.376 [main] DEBUG [] org.hibernate.SQL - 
    drop table if exists itens_pedido cascade 
2025-07-31 17:42:23.378 [main] DEBUG [] org.hibernate.SQL - 
    drop table if exists pedidos cascade 
2025-07-31 17:42:23.379 [main] DEBUG [] org.hibernate.SQL - 
    drop table if exists produto cascade 
2025-07-31 17:42:23.379 [main] DEBUG [] org.hibernate.SQL - 
    drop table if exists project cascade 
2025-07-31 17:42:23.380 [main] DEBUG [] org.hibernate.SQL - 
    drop table if exists restaurante cascade 
2025-07-31 17:42:23.381 [main] DEBUG [] org.hibernate.SQL - 
    drop table if exists usuario cascade 
2025-07-31 17:42:23.384 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-31 17:42:23.389 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-31 17:51:51.639 [main] INFO  [] c.d.d.s.ProdutoServiceCacheTest - Starting ProdutoServiceCacheTest using Java 21.0.7 with PID 23144 (started by rebre in C:\FAT_Java_2025\workspace - local\delivery-api)
2025-07-31 17:51:51.642 [main] INFO  [] c.d.d.s.ProdutoServiceCacheTest - No active profile set, falling back to 1 default profile: "default"
2025-07-31 17:51:55.047 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-31 17:51:55.052 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-31 17:51:55.253 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 182 ms. Found 7 JPA repository interfaces.
2025-07-31 17:51:55.809 [main] INFO  [] o.s.cloud.context.scope.GenericScope - BeanFactory id=a502f89d-fc51-3c62-b4f0-748e0589a3c5
2025-07-31 17:52:00.239 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-31 17:52:00.358 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-31 17:52:00.851 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:deliverydb user=SA
2025-07-31 17:52:00.859 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-31 17:52:00.944 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-31 17:52:03.334 [main] DEBUG [] org.hibernate.SQL - 
    drop table if exists cliente cascade 
2025-07-31 17:52:03.341 [main] DEBUG [] org.hibernate.SQL - 
    drop table if exists itens_pedido cascade 
2025-07-31 17:52:03.342 [main] DEBUG [] org.hibernate.SQL - 
    drop table if exists pedidos cascade 
2025-07-31 17:52:03.343 [main] DEBUG [] org.hibernate.SQL - 
    drop table if exists produto cascade 
2025-07-31 17:52:03.344 [main] DEBUG [] org.hibernate.SQL - 
    drop table if exists project cascade 
2025-07-31 17:52:03.344 [main] DEBUG [] org.hibernate.SQL - 
    drop table if exists restaurante cascade 
2025-07-31 17:52:03.344 [main] DEBUG [] org.hibernate.SQL - 
    drop table if exists usuario cascade 
2025-07-31 17:52:03.352 [main] DEBUG [] org.hibernate.SQL - 
    create table cliente (
        ativo boolean not null,
        data_cadastro timestamp(6),
        id bigint generated by default as identity,
        usuario_id bigint not null unique,
        cpf varchar(255),
        email varchar(255),
        endereco varchar(255),
        nome varchar(255),
        telefone varchar(255),
        primary key (id)
    )
2025-07-31 17:52:03.370 [main] DEBUG [] org.hibernate.SQL - 
    create table itens_pedido (
        preco_unitario numeric(38,2),
        quantidade integer not null,
        subtotal numeric(38,2),
        id bigint generated by default as identity,
        pedido_id bigint,
        produto_id bigint,
        primary key (id)
    )
2025-07-31 17:52:03.374 [main] DEBUG [] org.hibernate.SQL - 
    create table pedidos (
        data_pedido date,
        subtotal numeric(38,2),
        taxa_entrega numeric(10,2),
        valor_total numeric(38,2),
        cliente_id bigint,
        id bigint generated by default as identity,
        restaurante_id bigint,
        cep_entrega varchar(255) not null,
        endereco_entrega varchar(255) not null,
        numero_pedido varchar(255),
        observacoes varchar(255),
        forma_pagamento enum ('CARTAO_CREDITO','CARTAO_DEBITO','DINHEIRO','PIX','VALE_REFEICAO') not null,
        status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','PRONTO','SAIU_PARA_ENTREGA'),
        primary key (id)
    )
2025-07-31 17:52:03.379 [main] DEBUG [] org.hibernate.SQL - 
    create table produto (
        disponivel boolean not null,
        estoque integer not null,
        preco numeric(38,2),
        id bigint generated by default as identity,
        restaurante_id bigint not null,
        categoria varchar(255),
        descricao varchar(255),
        nome varchar(255),
        primary key (id)
    )
2025-07-31 17:52:03.381 [main] DEBUG [] org.hibernate.SQL - 
    create table project (
        id bigint generated by default as identity,
        observations varchar(255),
        project_title varchar(255),
        repository_url varchar(255),
        student_name varchar(255),
        primary key (id)
    )
2025-07-31 17:52:03.387 [main] DEBUG [] org.hibernate.SQL - 
    create table restaurante (
        ativo boolean not null,
        avaliacao numeric(3,2),
        taxa_entrega numeric(10,2) not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        nome varchar(100) not null,
        categoria varchar(255) not null,
        endereco varchar(255) not null,
        telefone varchar(255) not null,
        primary key (id)
    )
2025-07-31 17:52:03.391 [main] DEBUG [] org.hibernate.SQL - 
    create table usuario (
        ativo boolean not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        restaurante_id bigint,
        email varchar(255) not null unique,
        nome varchar(255) not null,
        senha varchar(255) not null,
        role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null,
        primary key (id)
    )
2025-07-31 17:52:03.399 [main] DEBUG [] org.hibernate.SQL - 
    alter table if exists cliente 
       add constraint FKc3u631ocxdrtm3ccpme0kjlmu 
       foreign key (usuario_id) 
       references usuario
2025-07-31 17:52:03.424 [main] DEBUG [] org.hibernate.SQL - 
    alter table if exists itens_pedido 
       add constraint FK42mycompce3b7yt3l6ukdwsxy 
       foreign key (pedido_id) 
       references pedidos
2025-07-31 17:52:03.427 [main] DEBUG [] org.hibernate.SQL - 
    alter table if exists itens_pedido 
       add constraint FK3uo2duj20r2i4mwplv4vb26u6 
       foreign key (produto_id) 
       references produto
2025-07-31 17:52:03.429 [main] DEBUG [] org.hibernate.SQL - 
    alter table if exists pedidos 
       add constraint FK6wgk5emlhdcthucnnmi4dpl33 
       foreign key (cliente_id) 
       references cliente
2025-07-31 17:52:03.432 [main] DEBUG [] org.hibernate.SQL - 
    alter table if exists pedidos 
       add constraint FK5ti4tnra3ey4hpd7ko661ndg0 
       foreign key (restaurante_id) 
       references restaurante
2025-07-31 17:52:03.433 [main] DEBUG [] org.hibernate.SQL - 
    alter table if exists produto 
       add constraint FKb9jhjyghjcn25guim7q4pt8qx 
       foreign key (restaurante_id) 
       references restaurante
2025-07-31 17:52:03.444 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-31 17:52:04.421 [main] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-31 17:52:07.291 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioService]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-07-31 17:52:07.292 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-07-31 17:52:08.643 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 16 endpoints beneath base path '/actuator'
2025-07-31 17:52:08.829 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-07-31 17:52:10.114 [main] INFO  [] o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:deliverydb'
2025-07-31 17:52:10.456 [main] INFO  [] c.d.d.s.ProdutoServiceCacheTest - Started ProdutoServiceCacheTest in 19.775 seconds (process running for 21.453)
2025-07-31 17:52:10.853 [main] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.cep_entrega,
        p1_0.cliente_id,
        p1_0.data_pedido,
        p1_0.endereco_entrega,
        p1_0.forma_pagamento,
        p1_0.numero_pedido,
        p1_0.observacoes,
        p1_0.restaurante_id,
        p1_0.status,
        p1_0.subtotal,
        p1_0.taxa_entrega,
        p1_0.valor_total 
    from
        pedidos p1_0
2025-07-31 17:52:10.918 [main] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.data_criacao,
        r1_0.endereco,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone 
    from
        restaurante r1_0
2025-07-31 17:52:10.922 [main] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0
2025-07-31 17:52:10.928 [main] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.cpf,
        c1_0.data_cadastro,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone,
        c1_0.usuario_id 
    from
        cliente c1_0
2025-07-31 17:52:11.017 [main] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-07-31 17:52:11.208 [main] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Usuario */insert 
    into
        usuario (ativo, data_criacao, email, nome, restaurante_id, role, senha, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 17:52:11.248 [main] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-07-31 17:52:11.370 [main] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Usuario */insert 
    into
        usuario (ativo, data_criacao, email, nome, restaurante_id, role, senha, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 17:52:11.375 [main] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-07-31 17:52:11.491 [main] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Usuario */insert 
    into
        usuario (ativo, data_criacao, email, nome, restaurante_id, role, senha, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 17:52:11.496 [main] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-07-31 17:52:11.612 [main] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Usuario */insert 
    into
        usuario (ativo, data_criacao, email, nome, restaurante_id, role, senha, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 17:52:11.619 [main] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Cliente */insert 
    into
        cliente (ativo, cpf, data_cadastro, email, endereco, nome, telefone, usuario_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 17:52:11.621 [main] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Cliente */insert 
    into
        cliente (ativo, cpf, data_cadastro, email, endereco, nome, telefone, usuario_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 17:52:11.624 [main] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Cliente */insert 
    into
        cliente (ativo, cpf, data_cadastro, email, endereco, nome, telefone, usuario_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 17:52:11.650 [main] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Restaurante */insert 
    into
        restaurante (ativo, avaliacao, categoria, data_criacao, endereco, nome, taxa_entrega, telefone, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 17:52:11.653 [main] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Restaurante */insert 
    into
        restaurante (ativo, avaliacao, categoria, data_criacao, endereco, nome, taxa_entrega, telefone, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 17:52:11.659 [main] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.data_criacao,
        r1_0.endereco,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone 
    from
        restaurante r1_0
2025-07-31 17:52:11.682 [main] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.cpf,
        c1_0.data_cadastro,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone,
        c1_0.usuario_id 
    from
        cliente c1_0
2025-07-31 17:52:11.690 [main] DEBUG [] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.id=?
2025-07-31 17:52:11.692 [main] DEBUG [] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.id=?
2025-07-31 17:52:11.694 [main] DEBUG [] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.id=?
2025-07-31 17:52:11.699 [main] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.data_criacao,
        r1_0.endereco,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone 
    from
        restaurante r1_0
2025-07-31 17:52:11.703 [main] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.cpf,
        c1_0.data_cadastro,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone,
        c1_0.usuario_id 
    from
        cliente c1_0 
    where
        c1_0.email=?
2025-07-31 17:52:11.705 [main] DEBUG [] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.id=?
2025-07-31 17:52:11.711 [main] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.cpf,
        c1_0.data_cadastro,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone,
        c1_0.usuario_id 
    from
        cliente c1_0 
    where
        c1_0.ativo
2025-07-31 17:52:11.713 [main] DEBUG [] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.id=?
2025-07-31 17:52:11.714 [main] DEBUG [] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.id=?
2025-07-31 17:52:11.724 [main] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.cpf,
        c1_0.data_cadastro,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone,
        c1_0.usuario_id 
    from
        cliente c1_0 
    where
        upper(c1_0.nome) like upper(?) escape '\'
2025-07-31 17:52:11.728 [main] DEBUG [] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.id=?
2025-07-31 17:52:11.736 [main] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id 
    from
        cliente c1_0 
    where
        c1_0.email=? 
    fetch
        first ? rows only
2025-07-31 17:52:11.832 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-31 17:52:11.833 [main] DEBUG [] org.hibernate.SQL - 
    drop table if exists cliente cascade 
2025-07-31 17:52:11.840 [main] DEBUG [] org.hibernate.SQL - 
    drop table if exists itens_pedido cascade 
2025-07-31 17:52:11.841 [main] DEBUG [] org.hibernate.SQL - 
    drop table if exists pedidos cascade 
2025-07-31 17:52:11.842 [main] DEBUG [] org.hibernate.SQL - 
    drop table if exists produto cascade 
2025-07-31 17:52:11.844 [main] DEBUG [] org.hibernate.SQL - 
    drop table if exists project cascade 
2025-07-31 17:52:11.845 [main] DEBUG [] org.hibernate.SQL - 
    drop table if exists restaurante cascade 
2025-07-31 17:52:11.846 [main] DEBUG [] org.hibernate.SQL - 
    drop table if exists usuario cascade 
2025-07-31 17:52:11.851 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-31 17:52:11.856 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-31 18:09:00.308 [main] INFO  [] c.d.d.s.ProdutoServiceCacheTest - Starting ProdutoServiceCacheTest using Java 21.0.7 with PID 18140 (started by rebre in C:\FAT_Java_2025\workspace - local\delivery-api)
2025-07-31 18:09:00.309 [main] INFO  [] c.d.d.s.ProdutoServiceCacheTest - No active profile set, falling back to 1 default profile: "default"
2025-07-31 18:09:01.607 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-31 18:09:01.609 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-31 18:09:01.717 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 96 ms. Found 7 JPA repository interfaces.
2025-07-31 18:09:01.975 [main] INFO  [] o.s.cloud.context.scope.GenericScope - BeanFactory id=a502f89d-fc51-3c62-b4f0-748e0589a3c5
2025-07-31 18:09:03.717 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-31 18:09:03.763 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-31 18:09:03.954 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:deliverydb user=SA
2025-07-31 18:09:03.957 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-31 18:09:03.987 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-31 18:09:05.014 [main] DEBUG [] org.hibernate.SQL - 
    drop table if exists cliente cascade 
2025-07-31 18:09:05.019 [main] DEBUG [] org.hibernate.SQL - 
    drop table if exists itens_pedido cascade 
2025-07-31 18:09:05.019 [main] DEBUG [] org.hibernate.SQL - 
    drop table if exists pedidos cascade 
2025-07-31 18:09:05.019 [main] DEBUG [] org.hibernate.SQL - 
    drop table if exists produto cascade 
2025-07-31 18:09:05.020 [main] DEBUG [] org.hibernate.SQL - 
    drop table if exists project cascade 
2025-07-31 18:09:05.020 [main] DEBUG [] org.hibernate.SQL - 
    drop table if exists restaurante cascade 
2025-07-31 18:09:05.020 [main] DEBUG [] org.hibernate.SQL - 
    drop table if exists usuario cascade 
2025-07-31 18:09:05.024 [main] DEBUG [] org.hibernate.SQL - 
    create table cliente (
        ativo boolean not null,
        data_cadastro timestamp(6),
        id bigint generated by default as identity,
        usuario_id bigint not null unique,
        cpf varchar(255),
        email varchar(255),
        endereco varchar(255),
        nome varchar(255),
        telefone varchar(255),
        primary key (id)
    )
2025-07-31 18:09:05.034 [main] DEBUG [] org.hibernate.SQL - 
    create table itens_pedido (
        preco_unitario numeric(38,2),
        quantidade integer not null,
        subtotal numeric(38,2),
        id bigint generated by default as identity,
        pedido_id bigint,
        produto_id bigint,
        primary key (id)
    )
2025-07-31 18:09:05.037 [main] DEBUG [] org.hibernate.SQL - 
    create table pedidos (
        data_pedido date,
        subtotal numeric(38,2),
        taxa_entrega numeric(10,2),
        valor_total numeric(38,2),
        cliente_id bigint,
        id bigint generated by default as identity,
        restaurante_id bigint,
        cep_entrega varchar(255) not null,
        endereco_entrega varchar(255) not null,
        numero_pedido varchar(255),
        observacoes varchar(255),
        forma_pagamento enum ('CARTAO_CREDITO','CARTAO_DEBITO','DINHEIRO','PIX','VALE_REFEICAO') not null,
        status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','PRONTO','SAIU_PARA_ENTREGA'),
        primary key (id)
    )
2025-07-31 18:09:05.040 [main] DEBUG [] org.hibernate.SQL - 
    create table produto (
        disponivel boolean not null,
        estoque integer not null,
        preco numeric(38,2),
        id bigint generated by default as identity,
        restaurante_id bigint not null,
        categoria varchar(255),
        descricao varchar(255),
        nome varchar(255),
        primary key (id)
    )
2025-07-31 18:09:05.041 [main] DEBUG [] org.hibernate.SQL - 
    create table project (
        id bigint generated by default as identity,
        observations varchar(255),
        project_title varchar(255),
        repository_url varchar(255),
        student_name varchar(255),
        primary key (id)
    )
2025-07-31 18:09:05.042 [main] DEBUG [] org.hibernate.SQL - 
    create table restaurante (
        ativo boolean not null,
        avaliacao numeric(3,2),
        taxa_entrega numeric(10,2) not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        nome varchar(100) not null,
        categoria varchar(255) not null,
        endereco varchar(255) not null,
        telefone varchar(255) not null,
        primary key (id)
    )
2025-07-31 18:09:05.044 [main] DEBUG [] org.hibernate.SQL - 
    create table usuario (
        ativo boolean not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        restaurante_id bigint,
        email varchar(255) not null unique,
        nome varchar(255) not null,
        senha varchar(255) not null,
        role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null,
        primary key (id)
    )
2025-07-31 18:09:05.047 [main] DEBUG [] org.hibernate.SQL - 
    alter table if exists cliente 
       add constraint FKc3u631ocxdrtm3ccpme0kjlmu 
       foreign key (usuario_id) 
       references usuario
2025-07-31 18:09:05.058 [main] DEBUG [] org.hibernate.SQL - 
    alter table if exists itens_pedido 
       add constraint FK42mycompce3b7yt3l6ukdwsxy 
       foreign key (pedido_id) 
       references pedidos
2025-07-31 18:09:05.061 [main] DEBUG [] org.hibernate.SQL - 
    alter table if exists itens_pedido 
       add constraint FK3uo2duj20r2i4mwplv4vb26u6 
       foreign key (produto_id) 
       references produto
2025-07-31 18:09:05.063 [main] DEBUG [] org.hibernate.SQL - 
    alter table if exists pedidos 
       add constraint FK6wgk5emlhdcthucnnmi4dpl33 
       foreign key (cliente_id) 
       references cliente
2025-07-31 18:09:05.064 [main] DEBUG [] org.hibernate.SQL - 
    alter table if exists pedidos 
       add constraint FK5ti4tnra3ey4hpd7ko661ndg0 
       foreign key (restaurante_id) 
       references restaurante
2025-07-31 18:09:05.065 [main] DEBUG [] org.hibernate.SQL - 
    alter table if exists produto 
       add constraint FKb9jhjyghjcn25guim7q4pt8qx 
       foreign key (restaurante_id) 
       references restaurante
2025-07-31 18:09:05.071 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-31 18:09:05.577 [main] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-31 18:09:07.040 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioService]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-07-31 18:09:07.041 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-07-31 18:09:07.647 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 16 endpoints beneath base path '/actuator'
2025-07-31 18:09:07.692 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-07-31 18:09:08.108 [main] INFO  [] o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:deliverydb'
2025-07-31 18:09:08.256 [main] INFO  [] c.d.d.s.ProdutoServiceCacheTest - Started ProdutoServiceCacheTest in 8.393 seconds (process running for 9.351)
2025-07-31 18:09:08.395 [main] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.cep_entrega,
        p1_0.cliente_id,
        p1_0.data_pedido,
        p1_0.endereco_entrega,
        p1_0.forma_pagamento,
        p1_0.numero_pedido,
        p1_0.observacoes,
        p1_0.restaurante_id,
        p1_0.status,
        p1_0.subtotal,
        p1_0.taxa_entrega,
        p1_0.valor_total 
    from
        pedidos p1_0
2025-07-31 18:09:08.429 [main] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.data_criacao,
        r1_0.endereco,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone 
    from
        restaurante r1_0
2025-07-31 18:09:08.432 [main] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0
2025-07-31 18:09:08.436 [main] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.cpf,
        c1_0.data_cadastro,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone,
        c1_0.usuario_id 
    from
        cliente c1_0
2025-07-31 18:09:08.472 [main] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-07-31 18:09:08.559 [main] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Usuario */insert 
    into
        usuario (ativo, data_criacao, email, nome, restaurante_id, role, senha, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 18:09:08.581 [main] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-07-31 18:09:08.638 [main] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Usuario */insert 
    into
        usuario (ativo, data_criacao, email, nome, restaurante_id, role, senha, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 18:09:08.640 [main] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-07-31 18:09:08.696 [main] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Usuario */insert 
    into
        usuario (ativo, data_criacao, email, nome, restaurante_id, role, senha, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 18:09:08.701 [main] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-07-31 18:09:08.756 [main] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Usuario */insert 
    into
        usuario (ativo, data_criacao, email, nome, restaurante_id, role, senha, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 18:09:08.763 [main] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Cliente */insert 
    into
        cliente (ativo, cpf, data_cadastro, email, endereco, nome, telefone, usuario_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 18:09:08.765 [main] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Cliente */insert 
    into
        cliente (ativo, cpf, data_cadastro, email, endereco, nome, telefone, usuario_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 18:09:08.766 [main] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Cliente */insert 
    into
        cliente (ativo, cpf, data_cadastro, email, endereco, nome, telefone, usuario_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 18:09:08.783 [main] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Restaurante */insert 
    into
        restaurante (ativo, avaliacao, categoria, data_criacao, endereco, nome, taxa_entrega, telefone, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 18:09:08.784 [main] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Restaurante */insert 
    into
        restaurante (ativo, avaliacao, categoria, data_criacao, endereco, nome, taxa_entrega, telefone, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 18:09:08.788 [main] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.data_criacao,
        r1_0.endereco,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone 
    from
        restaurante r1_0
2025-07-31 18:09:08.801 [main] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.cpf,
        c1_0.data_cadastro,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone,
        c1_0.usuario_id 
    from
        cliente c1_0
2025-07-31 18:09:08.816 [main] DEBUG [] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.id=?
2025-07-31 18:09:08.817 [main] DEBUG [] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.id=?
2025-07-31 18:09:08.818 [main] DEBUG [] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.id=?
2025-07-31 18:09:08.821 [main] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.data_criacao,
        r1_0.endereco,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone 
    from
        restaurante r1_0
2025-07-31 18:09:08.824 [main] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.cpf,
        c1_0.data_cadastro,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone,
        c1_0.usuario_id 
    from
        cliente c1_0 
    where
        c1_0.email=?
2025-07-31 18:09:08.825 [main] DEBUG [] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.id=?
2025-07-31 18:09:08.830 [main] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.cpf,
        c1_0.data_cadastro,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone,
        c1_0.usuario_id 
    from
        cliente c1_0 
    where
        c1_0.ativo
2025-07-31 18:09:08.831 [main] DEBUG [] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.id=?
2025-07-31 18:09:08.832 [main] DEBUG [] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.id=?
2025-07-31 18:09:08.838 [main] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.cpf,
        c1_0.data_cadastro,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone,
        c1_0.usuario_id 
    from
        cliente c1_0 
    where
        upper(c1_0.nome) like upper(?) escape '\'
2025-07-31 18:09:08.841 [main] DEBUG [] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.id=?
2025-07-31 18:09:08.846 [main] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id 
    from
        cliente c1_0 
    where
        c1_0.email=? 
    fetch
        first ? rows only
2025-07-31 18:09:08.900 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-31 18:09:08.901 [main] DEBUG [] org.hibernate.SQL - 
    drop table if exists cliente cascade 
2025-07-31 18:09:08.904 [main] DEBUG [] org.hibernate.SQL - 
    drop table if exists itens_pedido cascade 
2025-07-31 18:09:08.905 [main] DEBUG [] org.hibernate.SQL - 
    drop table if exists pedidos cascade 
2025-07-31 18:09:08.907 [main] DEBUG [] org.hibernate.SQL - 
    drop table if exists produto cascade 
2025-07-31 18:09:08.907 [main] DEBUG [] org.hibernate.SQL - 
    drop table if exists project cascade 
2025-07-31 18:09:08.907 [main] DEBUG [] org.hibernate.SQL - 
    drop table if exists restaurante cascade 
2025-07-31 18:09:08.908 [main] DEBUG [] org.hibernate.SQL - 
    drop table if exists usuario cascade 
2025-07-31 18:09:08.911 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-31 18:09:08.914 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-31 18:14:56.152 [main] INFO  [] c.d.d.s.ProdutoServiceCacheTest - Starting ProdutoServiceCacheTest using Java 21.0.7 with PID 6816 (started by rebre in C:\FAT_Java_2025\workspace - local\delivery-api)
2025-07-31 18:14:56.155 [main] INFO  [] c.d.d.s.ProdutoServiceCacheTest - No active profile set, falling back to 1 default profile: "default"
2025-07-31 18:14:57.623 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-31 18:14:57.626 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-31 18:14:57.727 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 91 ms. Found 7 JPA repository interfaces.
2025-07-31 18:14:57.987 [main] INFO  [] o.s.cloud.context.scope.GenericScope - BeanFactory id=a502f89d-fc51-3c62-b4f0-748e0589a3c5
2025-07-31 18:15:00.212 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-31 18:15:00.261 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-31 18:15:00.467 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:deliverydb user=SA
2025-07-31 18:15:00.469 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-31 18:15:00.506 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-31 18:15:01.517 [main] DEBUG [] org.hibernate.SQL - 
    drop table if exists cliente cascade 
2025-07-31 18:15:01.521 [main] DEBUG [] org.hibernate.SQL - 
    drop table if exists itens_pedido cascade 
2025-07-31 18:15:01.522 [main] DEBUG [] org.hibernate.SQL - 
    drop table if exists pedidos cascade 
2025-07-31 18:15:01.522 [main] DEBUG [] org.hibernate.SQL - 
    drop table if exists produto cascade 
2025-07-31 18:15:01.522 [main] DEBUG [] org.hibernate.SQL - 
    drop table if exists project cascade 
2025-07-31 18:15:01.522 [main] DEBUG [] org.hibernate.SQL - 
    drop table if exists restaurante cascade 
2025-07-31 18:15:01.523 [main] DEBUG [] org.hibernate.SQL - 
    drop table if exists usuario cascade 
2025-07-31 18:15:01.527 [main] DEBUG [] org.hibernate.SQL - 
    create table cliente (
        ativo boolean not null,
        data_cadastro timestamp(6),
        id bigint generated by default as identity,
        usuario_id bigint not null unique,
        cpf varchar(255),
        email varchar(255),
        endereco varchar(255),
        nome varchar(255),
        telefone varchar(255),
        primary key (id)
    )
2025-07-31 18:15:01.536 [main] DEBUG [] org.hibernate.SQL - 
    create table itens_pedido (
        preco_unitario numeric(38,2),
        quantidade integer not null,
        subtotal numeric(38,2),
        id bigint generated by default as identity,
        pedido_id bigint,
        produto_id bigint,
        primary key (id)
    )
2025-07-31 18:15:01.538 [main] DEBUG [] org.hibernate.SQL - 
    create table pedidos (
        data_pedido date,
        subtotal numeric(38,2),
        taxa_entrega numeric(10,2),
        valor_total numeric(38,2),
        cliente_id bigint,
        id bigint generated by default as identity,
        restaurante_id bigint,
        cep_entrega varchar(255) not null,
        endereco_entrega varchar(255) not null,
        numero_pedido varchar(255),
        observacoes varchar(255),
        forma_pagamento enum ('CARTAO_CREDITO','CARTAO_DEBITO','DINHEIRO','PIX','VALE_REFEICAO') not null,
        status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','PRONTO','SAIU_PARA_ENTREGA'),
        primary key (id)
    )
2025-07-31 18:15:01.545 [main] DEBUG [] org.hibernate.SQL - 
    create table produto (
        disponivel boolean not null,
        estoque integer not null,
        preco numeric(38,2),
        id bigint generated by default as identity,
        restaurante_id bigint not null,
        categoria varchar(255),
        descricao varchar(255),
        nome varchar(255),
        primary key (id)
    )
2025-07-31 18:15:01.547 [main] DEBUG [] org.hibernate.SQL - 
    create table project (
        id bigint generated by default as identity,
        observations varchar(255),
        project_title varchar(255),
        repository_url varchar(255),
        student_name varchar(255),
        primary key (id)
    )
2025-07-31 18:15:01.548 [main] DEBUG [] org.hibernate.SQL - 
    create table restaurante (
        ativo boolean not null,
        avaliacao numeric(3,2),
        taxa_entrega numeric(10,2) not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        nome varchar(100) not null,
        categoria varchar(255) not null,
        endereco varchar(255) not null,
        telefone varchar(255) not null,
        primary key (id)
    )
2025-07-31 18:15:01.549 [main] DEBUG [] org.hibernate.SQL - 
    create table usuario (
        ativo boolean not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        restaurante_id bigint,
        email varchar(255) not null unique,
        nome varchar(255) not null,
        senha varchar(255) not null,
        role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null,
        primary key (id)
    )
2025-07-31 18:15:01.552 [main] DEBUG [] org.hibernate.SQL - 
    alter table if exists cliente 
       add constraint FKc3u631ocxdrtm3ccpme0kjlmu 
       foreign key (usuario_id) 
       references usuario
2025-07-31 18:15:01.564 [main] DEBUG [] org.hibernate.SQL - 
    alter table if exists itens_pedido 
       add constraint FK42mycompce3b7yt3l6ukdwsxy 
       foreign key (pedido_id) 
       references pedidos
2025-07-31 18:15:01.566 [main] DEBUG [] org.hibernate.SQL - 
    alter table if exists itens_pedido 
       add constraint FK3uo2duj20r2i4mwplv4vb26u6 
       foreign key (produto_id) 
       references produto
2025-07-31 18:15:01.567 [main] DEBUG [] org.hibernate.SQL - 
    alter table if exists pedidos 
       add constraint FK6wgk5emlhdcthucnnmi4dpl33 
       foreign key (cliente_id) 
       references cliente
2025-07-31 18:15:01.569 [main] DEBUG [] org.hibernate.SQL - 
    alter table if exists pedidos 
       add constraint FK5ti4tnra3ey4hpd7ko661ndg0 
       foreign key (restaurante_id) 
       references restaurante
2025-07-31 18:15:01.571 [main] DEBUG [] org.hibernate.SQL - 
    alter table if exists produto 
       add constraint FKb9jhjyghjcn25guim7q4pt8qx 
       foreign key (restaurante_id) 
       references restaurante
2025-07-31 18:15:01.577 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-31 18:15:02.027 [main] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-31 18:15:03.223 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioService]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-07-31 18:15:03.224 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-07-31 18:15:03.740 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 16 endpoints beneath base path '/actuator'
2025-07-31 18:15:03.809 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-07-31 18:15:04.279 [main] INFO  [] o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:deliverydb'
2025-07-31 18:15:04.431 [main] INFO  [] c.d.d.s.ProdutoServiceCacheTest - Started ProdutoServiceCacheTest in 8.784 seconds (process running for 9.741)
2025-07-31 18:15:04.598 [main] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.cep_entrega,
        p1_0.cliente_id,
        p1_0.data_pedido,
        p1_0.endereco_entrega,
        p1_0.forma_pagamento,
        p1_0.numero_pedido,
        p1_0.observacoes,
        p1_0.restaurante_id,
        p1_0.status,
        p1_0.subtotal,
        p1_0.taxa_entrega,
        p1_0.valor_total 
    from
        pedidos p1_0
2025-07-31 18:15:04.632 [main] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.data_criacao,
        r1_0.endereco,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone 
    from
        restaurante r1_0
2025-07-31 18:15:04.634 [main] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0
2025-07-31 18:15:04.636 [main] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.cpf,
        c1_0.data_cadastro,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone,
        c1_0.usuario_id 
    from
        cliente c1_0
2025-07-31 18:15:04.677 [main] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-07-31 18:15:04.766 [main] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Usuario */insert 
    into
        usuario (ativo, data_criacao, email, nome, restaurante_id, role, senha, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 18:15:04.786 [main] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-07-31 18:15:04.843 [main] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Usuario */insert 
    into
        usuario (ativo, data_criacao, email, nome, restaurante_id, role, senha, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 18:15:04.846 [main] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-07-31 18:15:04.899 [main] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Usuario */insert 
    into
        usuario (ativo, data_criacao, email, nome, restaurante_id, role, senha, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 18:15:04.902 [main] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-07-31 18:15:04.958 [main] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Usuario */insert 
    into
        usuario (ativo, data_criacao, email, nome, restaurante_id, role, senha, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 18:15:04.963 [main] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Cliente */insert 
    into
        cliente (ativo, cpf, data_cadastro, email, endereco, nome, telefone, usuario_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 18:15:04.964 [main] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Cliente */insert 
    into
        cliente (ativo, cpf, data_cadastro, email, endereco, nome, telefone, usuario_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 18:15:04.966 [main] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Cliente */insert 
    into
        cliente (ativo, cpf, data_cadastro, email, endereco, nome, telefone, usuario_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 18:15:04.985 [main] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Restaurante */insert 
    into
        restaurante (ativo, avaliacao, categoria, data_criacao, endereco, nome, taxa_entrega, telefone, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 18:15:04.987 [main] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery.entities.Restaurante */insert 
    into
        restaurante (ativo, avaliacao, categoria, data_criacao, endereco, nome, taxa_entrega, telefone, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-31 18:15:04.991 [main] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.data_criacao,
        r1_0.endereco,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone 
    from
        restaurante r1_0
2025-07-31 18:15:05.003 [main] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.cpf,
        c1_0.data_cadastro,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone,
        c1_0.usuario_id 
    from
        cliente c1_0
2025-07-31 18:15:05.008 [main] DEBUG [] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.id=?
2025-07-31 18:15:05.009 [main] DEBUG [] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.id=?
2025-07-31 18:15:05.010 [main] DEBUG [] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.id=?
2025-07-31 18:15:05.013 [main] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.data_criacao,
        r1_0.endereco,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone 
    from
        restaurante r1_0
2025-07-31 18:15:05.017 [main] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.cpf,
        c1_0.data_cadastro,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone,
        c1_0.usuario_id 
    from
        cliente c1_0 
    where
        c1_0.email=?
2025-07-31 18:15:05.018 [main] DEBUG [] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.id=?
2025-07-31 18:15:05.022 [main] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.cpf,
        c1_0.data_cadastro,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone,
        c1_0.usuario_id 
    from
        cliente c1_0 
    where
        c1_0.ativo
2025-07-31 18:15:05.023 [main] DEBUG [] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.id=?
2025-07-31 18:15:05.024 [main] DEBUG [] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.id=?
2025-07-31 18:15:05.032 [main] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.cpf,
        c1_0.data_cadastro,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone,
        c1_0.usuario_id 
    from
        cliente c1_0 
    where
        upper(c1_0.nome) like upper(?) escape '\'
2025-07-31 18:15:05.034 [main] DEBUG [] org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.id=?
2025-07-31 18:15:05.038 [main] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id 
    from
        cliente c1_0 
    where
        c1_0.email=? 
    fetch
        first ? rows only
2025-07-31 18:15:05.157 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-31 18:15:05.158 [main] DEBUG [] org.hibernate.SQL - 
    drop table if exists cliente cascade 
2025-07-31 18:15:05.159 [main] DEBUG [] org.hibernate.SQL - 
    drop table if exists itens_pedido cascade 
2025-07-31 18:15:05.160 [main] DEBUG [] org.hibernate.SQL - 
    drop table if exists pedidos cascade 
2025-07-31 18:15:05.161 [main] DEBUG [] org.hibernate.SQL - 
    drop table if exists produto cascade 
2025-07-31 18:15:05.161 [main] DEBUG [] org.hibernate.SQL - 
    drop table if exists project cascade 
2025-07-31 18:15:05.161 [main] DEBUG [] org.hibernate.SQL - 
    drop table if exists restaurante cascade 
2025-07-31 18:15:05.162 [main] DEBUG [] org.hibernate.SQL - 
    drop table if exists usuario cascade 
2025-07-31 18:15:05.164 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-31 18:15:05.166 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
